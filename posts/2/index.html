
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>ç‹è‹¥é£çš„å°çª</title>
  <meta name="author" content="Ace">

  
  <meta name="description" content="Animating the Drawing of a CGPath With CAShapeLayer åŸæ–‡é“¾æ¥ è¿™æ˜¯ä»€ä¹ˆï¼Ÿ æ­¤æ–‡å°†è®²è§£é€šè¿‡å½¢çŠ¶å›¾å±‚CAShaperLayerçš„strokeStartå’ŒstrokeEndæ¥å®ç°åŠ¨ç”»ç»˜åˆ¶è·¯å¾„CGPath,æ­¤æ–‡æ˜¯By Ole &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://wangruofeng.github.io/posts/2/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="ç‹è‹¥é£çš„å°çª" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-72379345-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">ç‹è‹¥é£çš„å°çª</a></h1>
  
    <h2>è¯—æ„çš„æ –å±…</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="wangruofeng.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/01/13/dong-hua-hui-zhi-cashapelayerde-lu-jing-cgpath/">åŠ¨ç”»ç»˜åˆ¶CAShapeLayerçš„è·¯å¾„CGPath</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-01-13T04:35:42+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>13</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>4:35 am</span></time>
        
           | <a href="/blog/2016/01/13/dong-hua-hui-zhi-cashapelayerde-lu-jing-cgpath/#disqus_thread"
             data-disqus-identifier="http://wangruofeng.github.io/blog/2016/01/13/dong-hua-hui-zhi-cashapelayerde-lu-jing-cgpath/">Comments</a>
        
	{ % if site.duoshuo_short_name and page.comments != false and post.comments != false and site.duoshuo_comments == true %}| <a href="{ % if index % }{ % endif %}#comments">Comments</a>
	{ % endif %}
      </p>
    
  </header>


  <div class="entry-content"><h1>Animating the Drawing of a CGPath With CAShapeLayer</h1>

<ul>
<li><a href="http://oleb.net/blog/2010/12/animating-drawing-of-cgpath-with-cashapelayer/">åŸæ–‡é“¾æ¥</a></li>
</ul>


<h1>è¿™æ˜¯ä»€ä¹ˆï¼Ÿ</h1>

<blockquote><p>æ­¤æ–‡å°†è®²è§£é€šè¿‡å½¢çŠ¶å›¾å±‚<code>CAShaperLayer</code>çš„<code>strokeStart</code>å’Œ<code>strokeEnd</code>æ¥å®ç°åŠ¨ç”»ç»˜åˆ¶è·¯å¾„<code>CGPath</code>,æ­¤æ–‡æ˜¯<a href="http://oleb.net">By Ole Begemann</a>åˆ›å»ºäºDecember 18, 2010,å½“æ—¶æ˜¯å‘å¸ƒiOS SDK 4.2æ—¶<code>CAShapeLayer</code>æ–°å¢åŠ çš„ä¸¤ä¸ªå±æ€§<a href="http://developer.apple.com/library/ios/documentation/GraphicsImaging/Reference/CAShapeLayer_class/Reference/Reference.html#//apple_ref/doc/uid/TP40008314-CH1-SW16">strokeStart</a>å’Œ<a href="http://developer.apple.com/library/ios/documentation/GraphicsImaging/Reference/CAShapeLayer_class/Reference/Reference.html#//apple_ref/doc/uid/TP40008314-CH1-SW15">strokeEnd</a>,è¿™ä¸¤ä¸ªå€¼æ˜¯ä¸¤ä¸ªæµ®ç‚¹æ•°å–å€¼èŒƒå›´0.0~1.0,ç”¨æ¥è¡¨æ˜å½¢çŠ¶å›¾å±‚æ‰€æŒ‡å‘çš„è·¯å¾„åœ¨ç»˜åˆ¶å¼€å§‹å’Œç»“æŸè·¯å¾„ä¸­çš„ç›¸å¯¹ä½ç½®ã€‚</p></blockquote>

<p><code>strokeStart</code>é»˜è®¤å€¼æ˜¯0.0ï¼Œ<code>strokeEnd</code>é»˜è®¤å€¼æ˜¯1.0ï¼Œæ˜¾ç„¶è¿™ä¼šå¯¼è‡´å½¢çŠ¶å›¾å±‚çš„è·¯å¾„å°†ä¸€æ•´ä¸ªè¢«ç»˜åˆ¶ã€‚å‡å¦‚ï¼Œä½ æƒ³è¯´ï¼Œå¦‚æœè®¾ç½®äº†layer.strokeEnd = 0.5f,åªè®©å¥¹ç»˜åˆ¶å‰åŠéƒ¨åˆ†ï¼Œé‚£è¯¥å¤šå¥½ã€‚</p>

<p>çœŸæ­£æœ‰è¶£çš„äº‹æƒ…æ˜¯è¿™äº›æ¥å£éƒ½æ˜¯å¯åŠ¨ç”»çš„ã€‚é€šè¿‡åŠ¨ç”»ç»˜åˆ¶<code>strokeEnd</code>ä»0.0åˆ°1.0åœ¨å‡ ç§’å†…ï¼Œæˆ‘ä»¬å°±èƒ½å¾ˆå®¹æ˜“è‡ªå·±ç»˜åˆ¶è·¯å¾„åƒä¸‹é¢è¿™æ ·å†™ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="bp">CABasicAnimation</span> <span class="o">*</span><span class="n">pathAnimation</span> <span class="o">=</span> <span class="p">[</span><span class="bp">CABasicAnimation</span> <span class="nl">animationWithKeyPath</span><span class="p">:</span><span class="s">@&quot;strokeEnd&quot;</span><span class="p">];</span>
</span><span class='line'><span class="n">pathAnimation</span><span class="p">.</span><span class="n">duration</span> <span class="o">=</span> <span class="mf">10.0</span><span class="p">;</span>
</span><span class='line'><span class="n">pathAnimation</span><span class="p">.</span><span class="n">fromValue</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSNumber</span> <span class="nl">numberWithFloat</span><span class="p">:</span><span class="mf">0.0f</span><span class="p">];</span>
</span><span class='line'><span class="n">pathAnimation</span><span class="p">.</span><span class="n">toValue</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSNumber</span> <span class="nl">numberWithFloat</span><span class="p">:</span><span class="mf">1.0f</span><span class="p">];</span>
</span><span class='line'><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">pathLayer</span> <span class="nl">addAnimation</span><span class="p">:</span><span class="n">pathAnimation</span> <span class="nl">forKey</span><span class="p">:</span><span class="s">@&quot;strokeEndAnimation&quot;</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<p>æœ€åï¼Œå†æ·»åŠ ç¬¬äºŒä¸ªå›¾å±‚åŒ…å«ä¸€ä¸ªé“…ç¬”å›¾ç‰‡ï¼Œä½¿ç”¨å…³é”®å¸§åŠ¨ç”»<code>CAKeyframeAnimation</code>æ¥è®©å®ƒéšç€è¿™ä¸ªè·¯å¾„ä»¥ç›¸åŒçš„é€Ÿåº¦ç»˜åˆ¶ï¼Œå°±å¯ä»¥è¾¾åˆ°å®Œç¾çš„é”™è§‰æ•ˆæœï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="bp">CAKeyframeAnimation</span> <span class="o">*</span><span class="n">penAnimation</span> <span class="o">=</span> <span class="p">[</span><span class="bp">CAKeyframeAnimation</span> <span class="nl">animationWithKeyPath</span><span class="p">:</span><span class="s">@&quot;position&quot;</span><span class="p">];</span>
</span><span class='line'><span class="n">penAnimation</span><span class="p">.</span><span class="n">duration</span> <span class="o">=</span> <span class="mf">10.0</span><span class="p">;</span>
</span><span class='line'><span class="n">penAnimation</span><span class="p">.</span><span class="n">path</span> <span class="o">=</span> <span class="nb">self</span><span class="p">.</span><span class="n">pathLayer</span><span class="p">.</span><span class="n">path</span><span class="p">;</span>
</span><span class='line'><span class="n">penAnimation</span><span class="p">.</span><span class="n">calculationMode</span> <span class="o">=</span> <span class="n">kCAAnimationPaced</span><span class="p">;</span>
</span><span class='line'><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">penLayer</span> <span class="nl">addAnimation</span><span class="p">:</span><span class="n">penAnimation</span> <span class="nl">forKey</span><span class="p">:</span><span class="s">@&quot;penAnimation&quot;</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<p><a href="http://oleb.net/media/AnimatedPathsHausVomNikolaus.mp4">ç»˜åˆ¶æ™®é€šè·¯å¾„æ•ˆæœè§†é¢‘</a></p>

<p><a href="http://oleb.net/media/AnimatedPathsHausVomNikolaus.mp4">ä¸‹è½½åœ°å€</a></p>

<p>è¿™ä¸ªå¯¹æ–‡æœ¬ä¸€æ ·æœ‰æ•ˆï¼›æˆ‘ä»¬åªéœ€è¦æŠŠå­—ç¬¦è½¬åŒ–æˆ<code>CGPath</code>ã€‚<code>Core Text</code>æä¾›äº†é‚£æ ·çš„åŠŸèƒ½çš„å‡½æ•°ï¼Œ<a href="http://developer.apple.com/library/ios/documentation/Carbon/Reference/CTFontRef/Reference/reference.html#//apple_ref/c/func/CTFontCreatePathForGlyph">CTFontCreatePathForGlyph( )</a>ã€‚ä¸ºäº†ä½¿ç”¨å®ƒï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªå¸¦å±æ€§çš„å­—ç¬¦ä¸²ç”¨æˆ‘ä»¬æƒ³è¦æ¸²æŸ“çš„æ–‡æœ¬ï¼Œå…ˆæŠŠå®ƒä»¬åˆ†å‰²æˆè¡Œåœ¨åˆ†å‰²æˆä¸€ä¸ªä¸ªå­—ç¬¦ã€‚åœ¨æŠŠæ‰€æœ‰çš„å­—ç¬¦è½¬æ¢æˆè·¯å¾„åï¼Œæˆ‘ä»¬ä»¥å­è·¯å¾„æ–¹å¼æŠŠå®ƒæ·»åŠ åˆ°ä¸€ä¸ªå•ä¸ªçš„<code>CGPath</code>è·¯å¾„ä¸­ã€‚æ›´å¤šç»†èŠ‚å¯ä»¥æŸ¥çœ‹<a href="http://www.codeproject.com/script/Membership/View.aspx?mid=2887692">Ohmu</a>å†™çš„<a href="http://www.codeproject.com/KB/iPhone/Glyph.aspx">Low-level text rendering</a>è¿™ç¯‡æ–‡ç« ã€‚ç»“æœçœ‹ä»¥æ¥éå¸¸çš„ç‚«é…·ï¼š</p>

<p><a href="http://oleb.net/media/AnimatedPathsHelloWorld.mp4">ç»˜åˆ¶æ–‡å­—è·¯å¾„æ•ˆæœè§†é¢‘</a></p>

<p><a href="http://oleb.net/media/AnimatedPathsHelloWorld.mp4">ä¸‹è½½åœ°å€</a></p>

<p>ä»Githubä¸Šè·å¾—<a href="http://github.com/ole/Animated-Paths">iPadç‰ˆçš„æ ·å“å·¥ç¨‹</a></p>

<h1>ä½ å°†å­¦åˆ°çš„çŸ¥è¯†ç‚¹</h1>

<ul>
<li>ä½¿ç”¨<code>CAShapeLayer</code>çš„<code>strokeStart</code>å’Œ<code>strokeEnd</code>æ¥å®ç°è·¯å¾„åŠ¨ç”»,æ¯”è¾ƒé«˜çº§å¤æ‚çš„æ•ˆæœåƒgoogleçš„ä¸‹æ‹‰åˆ·æ–°è½¬åœˆå°±å¯ä»¥ä»è¿™é‡Œå¼•ç”³å»å®ç°ã€‚</li>
<li><code>CABasicAnimation</code>å’Œ<code>CABasicAnimation</code>ä½¿ç”¨</li>
<li>æ·±å…¥ç†è§£<code>CAShapeLayer</code>å’Œ<code>CALayer</code></li>
<li>é€šè¿‡æ–‡æœ¬åˆ›å»ºè·¯å¾„ï¼Œæ ¸å¿ƒå‡½æ•°<code>CTFontCreatePathForGlyph()</code></li>
</ul>


<h1>è¡¥å……è¯´æ˜</h1>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="bp">CAShapeLayer</span> <span class="o">*</span><span class="n">pathLayer</span> <span class="o">=</span> <span class="p">[</span><span class="bp">CAShapeLayer</span> <span class="n">layer</span><span class="p">];</span>
</span><span class='line'><span class="n">pathLayer</span><span class="p">.</span><span class="n">frame</span> <span class="o">=</span> <span class="nb">self</span><span class="p">.</span><span class="n">animationLayer</span><span class="p">.</span><span class="n">bounds</span><span class="p">;</span>
</span><span class='line'><span class="n">pathLayer</span><span class="p">.</span><span class="n">bounds</span> <span class="o">=</span> <span class="n">pathRect</span><span class="p">;</span>
</span><span class='line'><span class="n">pathLayer</span><span class="p">.</span><span class="n">geometryFlipped</span> <span class="o">=</span> <span class="nb">YES</span><span class="p">;</span>
</span><span class='line'><span class="n">pathLayer</span><span class="p">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span><span class="p">.</span><span class="bp">CGPath</span><span class="p">;</span>
</span><span class='line'><span class="n">pathLayer</span><span class="p">.</span><span class="n">strokeColor</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">UIColor</span> <span class="n">blackColor</span><span class="p">]</span> <span class="bp">CGColor</span><span class="p">];</span>
</span><span class='line'><span class="n">pathLayer</span><span class="p">.</span><span class="n">fillColor</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>
</span><span class='line'><span class="n">pathLayer</span><span class="p">.</span><span class="n">lineWidth</span> <span class="o">=</span> <span class="mf">10.0f</span><span class="p">;</span>
</span><span class='line'><span class="n">pathLayer</span><span class="p">.</span><span class="n">lineJoin</span> <span class="o">=</span> <span class="n">kCALineJoinBevel</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">animationLayer</span> <span class="nl">addSublayer</span><span class="p">:</span><span class="n">pathLayer</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<p>æœ‰ä¸€ç‚¹éå¸¸é‡è¦ï¼ŒCALayeråœ¨iOSç³»ç»Ÿä¸­ç›¸å¯¹åæ ‡ç³»æ˜¯ä»¥å±å¹•å·¦ä¸Š<code>top-left</code>ä¸ºåæ ‡åŸç‚¹çš„ï¼Œåœ¨Mac OS Xä¸Šä»¥åä¸‹<code>bottom-left</code>ä¸ºåæ ‡åŸç‚¹,ä½†æ˜¯å¯ä»¥é€šè¿‡<code>CALayer</code>çš„æ¥å£<code>geometryFlipped</code>å‚ç›´ç¿»è½¬åæ ‡ç³»ï¼Œè¿™ä¸ªå€¼é»˜è®¤æ˜¯<code>NO</code>ï¼Œè®¾ç½®æˆ<code>YES</code>å°±å¯ä»¥æŠŠåæ ‡ç³»è½¬æ¢æˆå·¦ä¸‹<code>bottom-left</code>äº†ï¼Œè¿™é‡Œä½œè€…ä½¿ç”¨çš„å·¦ä¸‹<code>bottom-left</code>çš„åæ ‡ç³»ã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="k">@property</span><span class="p">(</span><span class="k">getter</span><span class="o">=</span><span class="n">isGeometryFlipped</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">geometryFlipped</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>å…³äºè¿™ä¸ªå±æ€§ä½¿ç”¨æ—¶éœ€è¦ç‰¹åˆ«æ³¨æ„</p>

<ol>
<li>ç¿»è½¬ä¼šåŒæ—¶ä½œç”¨äºå®ƒçš„å­å›¾å±‚</li>
<li>å³ä½¿è¿™ä¸ªå±æ€§è®¾ç½®æˆ<code>YES</code>,å›¾ç‰‡çš„<code>orientation</code>ä»ç„¶æ˜¯ä¸å˜çš„ï¼ˆä¹Ÿå°±æ˜¯è¯´å½“è®¾ç½®<code>flipped=YES</code>å’Œ<code>flipped=NO</code>æ—¶ä¸€ä¸ª<code>CGImageRef</code>å‚¨å­˜åœ¨<code>contents</code>æ¥å£ä¸­çš„å†…å®¹å°†ä¼šæ˜¾ç¤ºä¸€è‡´ï¼Œèµ‹å€¼å¹¶ä¸ä¼šçœŸæ­£å˜æ¢åº•å±‚çš„å›¾å±‚ï¼‰</li>
</ol>


<h3>pathLayeråŠ¨ç”»å®ç°åŸç†</h3>

<ol>
<li>å…ˆåˆ›å»ºä¸€ä¸ªåŠ¨ç”»ç”¨çš„å›¾å±‚<code>animationLayer</code>ç±»å‹<code>CALayer</code>ï¼Œç”¨æ¥å……å½“åŠ¨ç”»çš„ç”»å¸ƒã€‚</li>
<li>åˆ›å»ºçœŸæ­£çš„è·¯å¾„å›¾å±‚<code>pathLayer</code>ç±»å‹ä¸º<code>CAShapeLayer</code>,è®©å®ƒçš„åæ ‡ç³»å‚ç›´ç¿»è½¬ï¼Œå¹¶ä¸”è®©å›¾å±‚å®½é«˜åŒæ—¶å‘å†…æ”¶ç¼©100ä¸ªç‚¹,é€šè¿‡<code>CGRectInset(CGRect rect, CGFloat dx, CGFloat dy)</code>å®ç°</li>
<li>æŠŠ<code>pathLayer</code>æ·»åŠ åˆ°<code>animationLayer</code>çš„å­å›¾å±‚ä¸­å»</li>
<li>åˆ›å»ºä¸€ä¸ªé“…ç¬”å›¾å±‚<code>penLayer</code>ç±»å‹ä¸º<code>CALayer</code>,æŠŠå®ƒæ·»åŠ åˆ°<code>pathLayer</code>å»</li>
<li>å¯¹<code>pathLayer</code>æ·»åŠ <code>CABasicAnimation</code>åŠ¨ç”»ï¼ŒåŠ¨ç”»å±æ€§ä¸º<code>strokeEnd</code></li>
<li>å¯¹<code>penLayer</code>æ·»åŠ <code>CAKeyframeAnimation</code>åŠ¨ç”»ï¼ŒåŠ¨ç”»å±æ€§ä¸º<code>position</code></li>
</ol>


<h3>textLayeråŠ¨ç”»å®ç°åŸç†</h3>

<ol>
<li>å…ˆåˆ›å»ºä¸€ä¸ªåŠ¨ç”»ç”¨çš„å›¾å±‚<code>animationLayer</code>ç±»å‹<code>CALayer</code>ï¼Œç”¨æ¥å……å½“åŠ¨ç”»çš„ç”»å¸ƒ</li>
<li>Create path from text,See:<a href="http://www.codeproject.com/KB/iPhone/Glyph.aspx">http://www.codeproject.com/KB/iPhone/Glyph.aspx</a>ï¼Œæœ€ç»ˆä¿å­˜åˆ°ä¸€ä¸ªç±»å‹ä¸º<code>CGMutablePathRef</code>çš„letterä¸­</li>
<li>é€šè¿‡letteræ¥åˆ›å»ºæ–‡å­—<code>UIBezierPath</code>ç±»å‹çš„<code>path</code></li>
<li>é€šè¿‡pathå†åˆ›å»º<code>CAShapeLayer</code>pathLayer,å¹¶ä¸”æŠŠpathLayeræ·»åŠ åˆ°<code>animationLayer</code>ä¸­å»</li>
<li>åˆ›å»ºä¸€ä¸ªé“…ç¬”å›¾å±‚<code>penLayer</code>ç±»å‹ä¸º<code>CALayer</code>,æŠŠå®ƒæ·»åŠ åˆ°<code>pathLayer</code>å»</li>
<li>å¯¹<code>pathLayer</code>æ·»åŠ <code>CABasicAnimation</code>åŠ¨ç”»ï¼ŒåŠ¨ç”»å±æ€§ä¸º<code>strokeEnd</code></li>
<li>å¯¹<code>penLayer</code>æ·»åŠ <code>CAKeyframeAnimation</code>åŠ¨ç”»ï¼ŒåŠ¨ç”»å±æ€§ä¸º<code>position</code></li>
</ol>


<h3>ä¿®å¤ä¸€å¤„bug</h3>

<p>é‡å¤ç‚¹å‡»<code>UISegmentedControl</code>å¯¼è‡´é“…ç¬”æ¶ˆå¤±ï¼Œè¿™æ˜¯è®¾ç½®äº†<code>penAnimation.delegate = self;</code>åœ¨ä»£ç†æ–¹æ³•é‡Œé¢æ²¡æœ‰åˆ¤æ–­ç»“æŸç›´æ¥å°†è®¾ç½®<code>self.penLayer.hidden = YES</code>ï¼Œå¯¼è‡´è¿ç»­åˆ‡æ¢æ—¶é“…ç¬”ä¸è§äº†ï¼Œè¦ä¿®å¤è¿™ä¸ªbugåªéœ€åŠ ä¸€ä¸ªåˆ¤æ–­<code>   if (flag)   self.penLayer.hidden = YES;
</code>å³å¯,è¿™æ ·çš„æ„æ€æ˜¯åªæœ‰å½“åŠ¨ç”»å®Œæˆæ—¶æ‰è®¾ç½®<code>self.penLayer.hidden</code>çš„å€¼ï¼Œå¥½äº†ç°åœ¨å·²ç»éå¸¸å®Œç¾äº†ï¼Œå¿«å»åŠ¨æ‰‹è‡ªå·±è¯•è¯•å§ï¼ğŸº</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/01/13/blogwang-zhan-bei-wang-lu/">Blogç½‘ç«™å¤‡å¿˜å½•</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-01-13T04:29:59+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>13</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>4:29 am</span></time>
        
           | <a href="/blog/2016/01/13/blogwang-zhan-bei-wang-lu/#disqus_thread"
             data-disqus-identifier="http://wangruofeng.github.io/blog/2016/01/13/blogwang-zhan-bei-wang-lu/">Comments</a>
        
	{ % if site.duoshuo_short_name and page.comments != false and post.comments != false and site.duoshuo_comments == true %}| <a href="{ % if index % }{ % endif %}#comments">Comments</a>
	{ % endif %}
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p>ç”¨äºæ”¶è—ä¸é”™çš„ä¸ªäººæˆ–è€…å…¬å¸Blogåœ°å€</p>

<p>å–œæ¬¢çš„åŒå­¦è¯·Starå’Œé—®é¢˜å»ºè®®è¯·pull me</p></blockquote>

<h2>å¹½å¹½ä¼ é€é—¨</h2>

<ul>
<li><a href="http://www.jianshu.com/p/e5353a1a752c">æˆ‘å¸¸å¸¸æµè§ˆçš„åšå®¢å’Œç½‘ç«™
</a> &ndash;<a href="http://www.jianshu.com/users/b82d2721ba07">å¶å­¤åŸ__</a></li>
<li><a href="http://www.cocoachina.com/ios/20150626/11348.html">11ä¸ªè¶…æ£’çš„iOSå¼€å‘å­¦ä¹ ç½‘ç«™</a></li>
<li><a href="http://blog.devtang.com/blog/2014/07/27/ios-levelup-tips/">iOSå¼€å‘å¦‚ä½•æé«˜</a></li>
<li><a href="https://github.com/tangqiaoboy/iOSBlogCN-">ä¸­æ–‡ iOS/Mac å¼€å‘åšå®¢åˆ—è¡¨</a>&ndash;å”å·§ç²¾å¿ƒæ•´ç†äº†å›½å†…40å¤šä½iOSå¼€å‘åšä¸»çš„åšå®¢åœ°å€åˆ—è¡¨</li>
</ul>


<h2>ç®€ä¹¦</h2>

<ul>
<li><a href="http://www.jianshu.com/users/b82d2721ba07/latest_articles">å¶å­¤åŸ___</a></li>
<li><a href="http://www.jianshu.com/users/39eeabac725a/latest_articles">MarkNote</a></li>
<li><a href="http://www.jianshu.com/users/384f80cdc57b/latest_articles">lp_é©¬å»ºæˆ</a></li>
<li><a href="http://www.jianshu.com/users/7ba5d9065301/latest_articles">seedante
</a></li>
<li><a href="http://www.jianshu.com/users/960f3b94323a/latest_articles">å¤§ç°ç°iOS</a></li>
<li><a href="http://www.jianshu.com/users/56475732c6e9/latest_articles">StrongX</a></li>
</ul>


<h2>å›½å†…ä¸ªäºº</h2>

<ul>
<li><a href="http://onevcat.com/?from=inf&amp;wvr=5&amp;loc=infblog">çŒ«ç¥onevcat</a></li>
<li><a href="http://blog.devtang.com/">å”å·§</a>&ndash;çŒ¿é¢˜åº“ä½œè€…</li>
<li><a href="http://blog.txx.im/?from=inf&amp;wvr=5&amp;loc=infblog">è™¾ç¥</a>&ndash;è¯è¯´ä½ ä»¬æ™“å¾—è™¾ç¥å¹´çºªå¤šå¤§ä¹ˆï¼Ÿåæ­£æˆ‘æ˜¯è§‰å¾—ç™½æ´»äº†ã€‚90åå¤ªå‰å®³äº†ã€‚</li>
<li><a href="http://blog.sunnyxx.com/2015/05/17/cell-height-calculation/">sunnyxx</a></li>
<li><a href="https://github.com/nixzhu/dev-blog">nixzhu</a>&ndash;æœ‰å‡ ç¯‡ç¿»è¯‘çš„æ–‡ç« è´¨é‡ä¸é”™</li>
<li><a href="http://beyondvincent.com">ç ´èˆ¹ä¹‹å®¶</a>&ndash;è¿™è®©æˆ‘æƒ³èµ·ï¼Œå–ä¸Šä¸€æ¯æœ—å§†é…’ğŸº</li>
<li><a href="http://macshuo.com/?page_id=93">MacTalk-æ± å»ºå¼ºçš„éšæƒ³å½•</a>&ndash;Macå¼€å‘å¤§ç‰›</li>
<li><a href="http://www.xuanyusong.com">é›¨æ¾MOMO</a>&ndash;ä¸“æ³¨ç§»åŠ¨äº’è”ç½‘ï¼Œä¸“æ³¨Unity3Dæ¸¸æˆå¼€å‘,å›½å†…æœ€æ—©å¼€å‘Unity3dçš„å¤§ç¥ä¹‹ä¸€</li>
</ul>


<h2>å›½å¤–ä¸ªäºº</h2>

<ul>
<li><a href="https://www.mikeash.com">mikeash</a>&ndash;ç™½å¤©é£è¡Œå‘˜ï¼Œæ™šä¸Šç¨‹åºå‘˜ ï¼š] just this guy, you know?</li>
<li><a href="https://www.shinobicontrols.com/blog">shinobicontrols</a>&ndash;iOS æœ€æ–° API ä»¥åŠæ–°åŠŸèƒ½ç”¨æ³•</li>
<li><a href="http://iosdevelopertips.com/user-interface/custom-visual-calendar-control-for-ios.html">iosdevelopertips</a>&ndash;æ•™ç¨‹é…åˆDemoè®©ä½ å­¦ä¹ æˆé•¿ç«‹ç«¿è§å½±</li>
<li><a href="http://iosdevweekly.com">iosdevweekly</a>&ndash;å¾ˆæ£’çš„ä¸ªäººæŠ€æœ¯åšå®¢ç½‘ï¼Œå·²å‘è¡¨230ç¯‡æ–‡ç« </li>
<li><a href="http://ios-goodies.com">ios-goodies</a>&ndash;iOS,UI,UX,Objective-c,Swift,Xcode</li>
<li><a href="http://nshipster.cn/authors/mattt-thompson/">mattt-thompson</a> &ndash; ä¸ç”¨è§£é‡Š</li>
<li><a href="http://subjc.com">subjc</a> &ndash;Subjective-C is a study of innovative iOS interfaces.</li>
<li><a href="http://www.thinkandbuild.it">thinkandbuild</a>&ndash;ã€ŠIntroduction To 3D Drawing in CoreAnimtionã€‹ä½œè€…</li>
<li><a href="http://robb.is/">robb.is</a>&ndash;ã€ŠHow to build a nice Hamburger transition in swiftã€‹ä½œè€…</li>
<li><a href="http://commandshift.co.uk">commandshift</a>&ndash;ä¸å¤šè¯´ï¼Œè´¨é‡æé«˜</li>
<li><a href="http://indieambitions.com/">indieambitions</a>&ndash;raywenderlichå¸¸é©»ä½œè€…ä¹‹ä¸€çš„blogï¼Œéå¸¸èµã€‚</li>
<li><a href="http://nvie.com">nvie</a>&ndash;å›½å¤–ä¸€ä¸ªå¤§ç¥çš„blogï¼Œè®²å¾—æ¯”è¾ƒæ‚ï¼Œgitï¼Œiosï¼Œpythonéƒ½æœ‰æ¶‰çŒï¼Œä½†æ˜¯æ¯ç¯‡éƒ½å¾ˆç²¾å½©ã€‚</li>
<li><a href="http://stuartkhall.com">stuartkhall</a>&ndash;å¾ˆå¤šå…³äºappä¸Šçº¿è¿è¥ä¹‹ç±»çš„blogï¼Œå€¼å¾—ä¸€çœ‹ã€‚</li>
<li><a href="http://blog.ittybittyapps.com">ittybittyapps</a>&ndash;ç¥å™¨Revealçš„ä½œè€…çš„blogã€‚</li>
<li><a href="http://adoptioncurve.net/">adoptioncurve</a>&ndash;æ›´æ–°æå¿«ï¼Œå½“æ—¶iOS8è¿˜æ²¡å‡ºå‡ ä¸ªå‘¨ï¼Œä½œè€…å°±å†™äº†ç¯‡sizeclassè§£æã€‚éå¸¸æ£’</li>
<li><a href="http://ciechanowski.me">ciechanowski</a>&ndash;å„ç§æ•°å­¦ä¸Šå‡ ä½•å˜åŒ–</li>
<li><a href="https://www.bignerdranch.com/blog/">bignerdranch</a></li>
<li><a href="http://www.cocoawithlove.com">cocoawithlove</a>&ndash;2008-2011çš„è€æ–‡ç« ï¼Œç°åœ¨æ²¡æ€ä¹ˆè·Ÿæ–°äº†</li>
<li><a href="http://blog.codinghorror.com/">codinghorror</a> &ndash;<a href="https://twitter.com/codinghorror">Jeff Atwood </a>ä¸»ç«™</li>
<li><a href="http://www.g8production.com/">g8production</a></li>
</ul>


<h2>å›¢ä½“blog</h2>

<ul>
<li><a href="http://blog.ibireme.com">ibireme</a>&ndash;æœ€è¿‘å¾ˆğŸ”¥çš„YYKitçš„ä½œè€…</li>
<li><a href="http://tech.glowing.com/cn/">GlowæŠ€æœ¯å›¢é˜Ÿ</a></li>
<li><a href="http://tech.meituan.com">ç¾å›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿ</a></li>
</ul>


<h2>ä¼˜è´¨iOSå­¦ä¹ èµ„æº</h2>

<ul>
<li><a href="https://github.com">github</a>&ndash;è¿™ä¸ªä¸ç”¨æˆ‘è¯´å§</li>
<li><a href="http://stackoverflow.com">stackoverflow</a>&ndash;æœ€ä¸“ä¸šçš„é—®ç­”ç¤¾åŒº</li>
<li><a href="http://www.raywenderlich.com">raywenderlich</a>&ndash;iOSç•Œçš„ç™¾ç§‘å…¨ä¹¦</li>
<li><a href="http://nshipster.com">nshipster</a>&ndash;é‡Œé¢æ–‡ç« è´¨é‡éå¸¸çš„é«˜ï¼Œæœ€å–œæ¬¢çš„å‡ ä¸ªç½‘ç«™ä¹‹ä¸€<a href="https://github.com/AFNetworking/AFNetworking">AFNetworkting</a>çš„ä½œè€…<a href="http://nshipster.com/authors/mattt-thompson/">Mattt Thompson</a>&ndash;ç»å¸¸å‡ºæ²¡</li>
<li><a href="http://nshipster.cn">nshipsterä¸­å›½</a></li>
<li><a href="http://www.objc.io">objc.io</a>&ndash;è¿™ä¸ªä¹Ÿä¸ç”¨å¤šè¯´äº†ï¼ŒRaywenderlichæ˜¯ç™¾ç§‘å…¨ä¹¦çš„è¯ï¼Œè¿™ä¸ªå°±æ˜¯æ·±å…¥æ·±å…¥å†æ·±å…¥</li>
<li><a href="http://objcio.cn">objcä¸­å›½</a></li>
<li><a href="https://realm.io">realm.io</a>&ndash;ä¸€ä¸ªè·¨å¹³å°çš„ç§»åŠ¨æ•°æ®åº“å¼•æ“</li>
<li><a href="http://tutsplus.com/">tutsplus</a>&ndash;ä¹Ÿæ˜¯åŒ…ç½—ä¸‡è±¡çš„ä¸€ä¸ªç½‘ç«™ï¼Œæœ‰web ios uiï¼Œä¸æ¯”Raywenderliché€Šè‰²ã€‚</li>
<li><a href="https://maniacdev.com">maniacdev</a>&ndash;ç±»ä¼¼Raywenderlichï¼Œæ–‡ç« è´¨é‡é«˜ï¼Œè€Œä¸”æ¶µç›–é¢å¹¿</li>
</ul>


<h2>ä¸­æ–‡ç½‘ç«™</h2>

<ul>
<li><a href="http://www.cocoachina.com">cocoachina</a></li>
<li><a href="http://www.code4app.com">code4app</a></li>
<li><a href="http://www.tairan.com">æ³°ç„¶ç½‘</a> &ndash;æ¸¸æˆæ•™ç¨‹ä¸é”™çš„ç½‘ç«™</li>
<li><a href="http://blog.jobbole.com">ä¼¯ä¹åœ¨çº¿</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/01/13/autoreleasingde-li-jie/">__autoreleasingçš„ç†è§£</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-01-13T04:27:10+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>13</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>4:27 am</span></time>
        
           | <a href="/blog/2016/01/13/autoreleasingde-li-jie/#disqus_thread"
             data-disqus-identifier="http://wangruofeng.github.io/blog/2016/01/13/autoreleasingde-li-jie/">Comments</a>
        
	{ % if site.duoshuo_short_name and page.comments != false and post.comments != false and site.duoshuo_comments == true %}| <a href="{ % if index % }{ % endif %}#comments">Comments</a>
	{ % endif %}
      </p>
    
  </header>


  <div class="entry-content"><h3>__autoreleasing ä¿®é¥°ç¬¦</h3>

<p>å°†å¯¹è±¡èµ‹å€¼ç»™é™„æœ‰__autoreleasing ä¿®é¥°ç¬¦çš„å˜é‡ç­‰åŒäºARC æ— æ•ˆæ—¶è°ƒç”¨å¯¹è±¡çš„autoreleaseæ–¹æ³•ã€‚æˆ‘ä»¬é€šè¿‡ä»¥ä¸‹æºä»£ç æ¥çœ‹ä¸€ä¸‹</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="k">@autoreleasepool</span> <span class="p">{</span>
</span><span class='line'><span class="kt">id</span> <span class="k">__autoreleasing</span> <span class="n">obj</span>  <span class="o">=</span> <span class="p">[[</span><span class="bp">NSObject</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>è¯¥æºä»£ç ä¸»è¦å°†NSObject ç±»å¯¹è±¡æ³¨å†Œåˆ°autoreleasepool ä¸­ï¼Œå¯ä½œå¦‚ä¸‹å˜æ¢ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="cm">/* ç¼–è¯‘å™¨çš„æ¨¡æ‹Ÿä»£ç  */</span>
</span><span class='line'><span class="kt">id</span> <span class="n">pool</span> <span class="o">=</span> <span class="n">objc_autoreleasePoolPush</span><span class="p">();</span>
</span><span class='line'><span class="kt">id</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">objc_msgSend</span><span class="p">(</span><span class="bp">NSObject</span><span class="p">,</span> <span class="k">@selector</span><span class="p">(</span><span class="n">alloc</span><span class="p">));</span>
</span><span class='line'><span class="n">objc_msgSend</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="k">@selector</span><span class="p">(</span><span class="n">init</span><span class="p">));</span>
</span><span class='line'><span class="n">objc_autorelease</span><span class="p">(</span><span class="n">obj</span><span class="p">);</span>
</span><span class='line'><span class="n">objc_autoreleasePoolPop</span><span class="p">(</span><span class="n">pool</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>è¿™ä¸è‹¹æœçš„autorelease å®ç°ä¸­çš„è¯´æ˜ï¼ˆå‚è€ƒ1.2.7 èŠ‚ï¼‰å®Œå…¨ç›¸åŒã€‚è™½ç„¶ARC æœ‰æ•ˆå’Œæ— æ•ˆæ—¶ï¼Œå…¶åœ¨æºä»£ç ä¸Šçš„è¡¨ç°æœ‰æ‰€ä¸åŒï¼Œä½†autorelease çš„åŠŸèƒ½å®Œå…¨ä¸€æ ·ã€‚</p>

<p>åœ¨alloc/new/copy/mutableCopy æ–¹æ³•ç¾¤ä¹‹å¤–çš„æ–¹æ³•ä¸­ä½¿ç”¨æ³¨å†Œåˆ°autoreleasepool ä¸­çš„å¯¹è±¡ä¼šå¦‚ä½•å‘¢ï¼Ÿä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹NSMutableArray ç±»çš„array ç±»æ–¹æ³•ã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="k">@autoreleasepool</span> <span class="p">{</span>
</span><span class='line'><span class="kt">id</span> <span class="k">__autoreleasing</span> <span class="n">obj</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSMutableArray</span> <span class="n">array</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>è¿™ä¸å‰é¢çš„æºä»£ç æœ‰ä½•ä¸åŒå‘¢ï¼Ÿ</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="cm">/* ç¼–è¯‘å™¨çš„æ¨¡æ‹Ÿä»£ç  */</span>
</span><span class='line'><span class="kt">id</span> <span class="n">pool</span> <span class="o">=</span> <span class="n">objc_autoreleasePoolPush</span><span class="p">();</span>
</span><span class='line'><span class="kt">id</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">objc_msgSend</span><span class="p">(</span><span class="bp">NSMutableArray</span><span class="p">,</span> <span class="k">@selector</span><span class="p">(</span><span class="n">array</span><span class="p">));</span>
</span><span class='line'><span class="n">objc_retainAutoreleasedReturnValue</span><span class="p">(</span><span class="n">obj</span><span class="p">);</span>
</span><span class='line'><span class="n">objc_autorelease</span><span class="p">(</span><span class="n">obj</span><span class="p">);</span>
</span><span class='line'><span class="n">objc_autoreleasePoolPop</span><span class="p">(</span><span class="n">pool</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>è™½ç„¶æŒæœ‰å¯¹è±¡çš„æ–¹æ³•ä»alloc æ–¹æ³•å˜ä¸ºobjc_retainAutoreleasedReturnValue å‡½æ•°ï¼Œ ä½†æ³¨å†Œautoreleasepool çš„æ–¹æ³•æ²¡æœ‰æ”¹å˜ï¼Œä»æ˜¯objc_autorelease å‡½æ•°ã€‚</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/01/13/attribute/">__attribute__</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-01-13T04:10:33+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>13</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>4:10 am</span></time>
        
           | <a href="/blog/2016/01/13/attribute/#disqus_thread"
             data-disqus-identifier="http://wangruofeng.github.io/blog/2016/01/13/attribute/">Comments</a>
        
	{ % if site.duoshuo_short_name and page.comments != false and post.comments != false and site.duoshuo_comments == true %}| <a href="{ % if index % }{ % endif %}#comments">Comments</a>
	{ % endif %}
      </p>
    
  </header>


  <div class="entry-content"><ul>
<li>è¯‘è‡ª Written by <a href="http://nshipster.com/authors/mattt-thompson/">Mattt Thompson</a> â€” January 14th, 2013</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="http://nshipster.com/__attribute__/">http://nshipster.com/__attribute__/</a></li>
<li>è¯‘è€…<a href="https://twitter.com/oneruofeng">@oneruofeng</a></li>
</ul>


<p>é‡å¤å‘å¸ƒè¿™ä¸ªä¸»é¢˜å·²ç»è¯´æ˜äº†åŒç¼–è¯‘å™¨ä¿å­˜å¥åº·å…³ç³»çš„é‡è¦æ€§,åƒä»»ä½•è‰ç¨¿ä¸€æ ·ï¼Œä½œä¸ºä¸€ä¸ªå®è·µè€…çš„æ•ˆç‡å–å†³äºä»–ä»¬æ€æ ·å¯¹å¾…ä»–ä»¬çš„å·¥å…·ï¼Œä½ ç…§é¡¾å¥½å®ƒä»¬ï¼Œå®ƒä»¬åè¿‡æ¥ä¹Ÿä¼šå¯¹ä½ æœ‰å¥½å¤„ã€‚</p>

<p> <code>__attribute__</code>æ˜¯ä¸€ä¸ªç¼–è¯‘å™¨çš„æŒ‡ä»¤åœ¨å£°æ˜çš„æ—¶å€™æŒ‡æ˜äº†ä¸€äº›å‚æ•°ï¼Œè¿™äº›å‚æ•°å…è®¸æ›´å¤šçš„æ£€æŸ¥é”™è¯¯å’Œé«˜çº§çš„ä¼˜åŒ–ã€‚</p>

<p> è¯­æ³•å…³é”®å­—æ˜¯<code>__attribute__</code>ç´§è·Ÿ2å¥—åœ†æ‹¬å·ï¼ˆåŒåœ†æ‹¬å·è®©å‡ºç°çš„å®æ›´å®¹æ˜“è¾¨è®¤ï¼Œç‰¹åˆ«æ˜¯åœ¨æœ‰å¤šä¸ªå±æ€§çš„æ—¶å€™ï¼‰ã€‚åœ¨æ‹¬å·å†…éƒ¨æ˜¯ä¸€ä¸ªä»¥é€—å·åˆ†éš”çš„å±æ€§åˆ—è¡¨ï¼Œ<code>__attribute__</code>æŒ‡ä»¤è¢«æ”¾åœ¨å‡½æ•°ï¼Œå˜é‡å’Œç±»å‹å£°æ˜åé¢ã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'> <span class="c1">// Return the square of a number</span>
</span><span class='line'><span class="kt">int</span> <span class="nf">square</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="n">__attribute__</span><span class="p">((</span><span class="k">const</span><span class="p">));</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// Declare the availability of a particular API</span>
</span><span class='line'><span class="kt">void</span> <span class="nf">f</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span><span class='line'>  <span class="n">__attribute__</span><span class="p">((</span><span class="n">availability</span><span class="p">(</span><span class="n">macosx</span><span class="p">,</span><span class="n">introduced</span><span class="o">=</span><span class="mf">10.4</span><span class="p">,</span><span class="n">deprecated</span><span class="o">=</span><span class="mf">10.6</span><span class="p">)));</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// Send printf-like message to stderr and exit</span>
</span><span class='line'><span class="k">extern</span> <span class="kt">void</span> <span class="nf">die</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">format</span><span class="p">,</span> <span class="p">...)</span>
</span><span class='line'>  <span class="n">__attribute__</span><span class="p">((</span><span class="n">noreturn</span><span class="p">,</span> <span class="n">format</span><span class="p">(</span><span class="n">printf</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)));</span>
</span></code></pre></td></tr></table></div></figure>


<p>å‡å¦‚è¿™ä¸ªè®©ä½ æƒ³èµ·ISO Cè¯­è¨€çš„ <code>#pragma</code>,ä½ å°±ä¸ä¼šæ„Ÿåˆ°å­¤å•äº†ã€‚</p>

<p>å®é™…ä¸Šï¼Œå½“<code>__attribute__</code>è¢«ç¬¬ä¸€æ¬¡å¼•å…¥åˆ°<code>GCC</code>ç¼–è¯‘å™¨æ—¶ï¼Œå®ƒé¢ä¸´ä¸€äº›é˜»åŠ›ï¼Œæœ‰äººå»ºè®®ä½¿ç”¨ä¸“ç”¨çš„<code>#pragma</code>å› ä¸ºç›¸åŒçš„ç›®çš„ã€‚</p>

<p>è¿™é‡Œï¼Œç„¶è€Œï¼Œæœ‰2ä¸ªéå¸¸å¥½çš„ç†ç”±ä¸ºä»€ä¹ˆ<code>__attribute__</code>è¢«æ·»åŠ è¿›æ¥</p>

<blockquote><ul>
<li>ä»ä¸€ä¸ªå®ä¸­äº§ç”Ÿ<code>#pragma</code>å‘½ä»¤å‡ ä¹æ˜¯ä¸èƒ½çš„ï¼ˆåœ¨C99 _Pragma é¢„ç®—ç¬¦ä»¥å‰ï¼‰ã€‚</li>
<li>è¿™é‡Œæ²¡äººçŸ¥é“ç›¸åŒçš„<code>#pragma</code>åœ¨å¦ä¸€ä¸ªç¼–è¯‘å™¨ä¸­å¯èƒ½çš„æ„æ€ã€‚</li>
</ul>
</blockquote>

<p> å¼•ç”¨<a href="http://gcc.gnu.org/onlinedocs/gcc/Function-Attributes.html">GCC Documentation for Function Attributes</a></p>

<blockquote><ul>
<li>è¿™é‡Œæœ‰2ä¸ªåŸå› è¢«åº”ç”¨åˆ°å‡ ä¹æ‰€æœ‰çš„åº”ç”¨æ¨èä½¿ç”¨<code>#pragma</code>,è¿™çŠ¯äº†ä¸€ä¸ªä½çº§é”™è¯¯å°±æ˜¯æŠŠ<code>#pragma</code>ä½¿ç”¨åˆ°ä»»ä½•åœ°æ–¹ã€‚</li>
</ul>
</blockquote>

<p> ç¡®å®ï¼Œå‡å¦‚ä½ åœ¨è‹¹æœçš„æ¡†æ¶ä¸­å’Œç‰›é€¼å·¥ç¨‹å¸ˆçš„å¼€æºé¡¹ç›®ä¸­çš„å¤´æ–‡ä»¶çœ‹ä¸€ä¸‹ç°ä»£çš„<code>Objective-c</code>&ndash;<code>__attribute__</code>è¢«å¤§é‡ä½¿ç”¨ã€‚ï¼ˆç›¸åï¼Œ<code>#pragma</code>çš„ä¸»è¦å£°æ˜åå£°æ¥ç€è¿™äº›å¤©æ˜¯è£…é¥°:<code>#pragma mark</code>ï¼‰</p>

<p> æ‰€ä»¥ä¸ºäº†ä»¥åä¸è´¹åŠ›ï¼Œæˆ‘ä»¬è¿˜æ˜¯å…ˆçœ‹ä¸€ä¸‹æœ€é‡è¦çš„å±æ€§ï¼š</p>

<hr />

<h2>GCC</h2>

<p><strong>format</strong></p>

<blockquote><p><code>format</code>å±æ€§æŒ‡å®šäº†ä¸€ä¸ªå‡½æ•°åƒ<code>printf</code>,<code>scanf</code>,<code>strftime</code>æˆ–è€…<code>strfmo</code>é£æ ¼çš„å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°åº”è¯¥æ˜¯å¯ä»¥è¿›è¡Œç±»å‹æ£€æŸ¥çš„ä¸€ä¸ªæ ¼å¼åŒ–å­—ç¬¦ä¸²ã€‚</p></blockquote>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="k">extern</span> <span class="kt">int</span>
</span><span class='line'><span class="nf">my_printf</span> <span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">my_object</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">my_format</span><span class="p">,</span> <span class="p">...)</span>
</span><span class='line'>  <span class="n">__attribute__</span><span class="p">((</span><span class="n">format</span><span class="p">(</span><span class="n">printf</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)));</span>
</span></code></pre></td></tr></table></div></figure>


<p>Objective-Cç¨‹åºå‘˜ä¹Ÿå¯ä½¿ç”¨<code>__NSString__</code>æ¥æ ¼å¼åŒ–æ¥åšåˆ°ç›¸åŒçš„æ ¼å¼åŒ–è§„åˆ™ï¼Œåƒåœ¨<code>NNString</code>ä¸­é€šè¿‡ <code>+stringWithFormat:</code> å’Œ <code>NSLog()</code>æ ¼å¼åŒ–å­—ç¬¦ä¸²ä¸€æ ·ã€‚</p>

<p><strong>nonnull</strong></p>

<blockquote><p>è¿™ä¸ª<code>nonnull</code>å±æ€§æŒ‡å®šäº†æŸäº›å‡½æ•°çš„å‚æ•°å¿…é¡»æ˜¯éç©ºçš„æŒ‡é’ˆã€‚</p></blockquote>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="k">extern</span> <span class="kt">void</span> <span class="o">*</span>
</span><span class='line'><span class="nf">my_memcpy</span> <span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">dest</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">src</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">len</span><span class="p">)</span>
</span><span class='line'>  <span class="n">__attribute__</span><span class="p">((</span><span class="n">nonnull</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)));</span>
</span></code></pre></td></tr></table></div></figure>


<p>ä½¿ç”¨<code>nonnull</code>ç¼–ç æœŸæœ›è¿™ä¸ªå€¼éµå®ˆä¸€ä¸ªæ˜ç¡®çš„çº¦å®šä¸­ï¼Œè¿™æ ·èƒ½å¸®åŠ©æ•è·æ½œä¼åœ¨ä»»ä½•ä»£ç è°ƒç”¨çš„NULLæŒ‡é’ˆbugsï¼Œè¯·è®°ä½ï¼š
<code>ç¼–è¯‘æ—¶çš„é”™è¯¯ &gt;&gt;  è¿è¡Œæ—¶çš„é”™è¯¯ã€‚</code></p>

<p><strong>noreturn</strong></p>

<blockquote><p>ä¸€äº›æ ‡å‡†åº“å‡½æ•°ï¼Œä¾‹å¦‚<code>abort</code>å’Œ<code>exit</code>,æ˜¯ä¸èƒ½è¿”å›çš„ã€‚GCCè‡ªåŠ¨çŸ¥é“è¿™äº›ä¸œè¥¿ï¼Œè¿™ä¸ªnoreturnå±æ€§ç”¨äºæŒ‡å®šä»»ä½•å…¶ä»–å‡½æ•°æ°¸è¿œä¸ä¼šè¿”å›çš„æƒ…å†µã€‚</p></blockquote>

<p>ä¾‹å¦‚ï¼ŒAFNetworking ä½¿ç”¨<code>noreturn</code>å±æ€§åœ¨å®ƒçš„<a href="https://github.com/AFNetworking/AFNetworking/blob/1.1.0/AFNetworking/AFURLConnectionOperation.m#L157">ç½‘ç»œè¯·æ±‚çº¿ç¨‹è¿›å…¥ç‚¹çš„æ–¹æ³•</a>é‡Œé¢,è¿™ä¸ªæ–¹æ³•ç”¨åœ¨å½“å¤§é‡äº§ç”Ÿä¸“ç”¨çš„ç½‘ç»œçš„çº¿ç¨‹é‡Œç”¨æ¥ä¿è¯åˆ†ç¦»çš„çº¿ç¨‹æŒç»­æ‰§è¡Œåœ¨åº”ç”¨çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ã€‚</p>

<p><strong>pure/const</strong></p>

<blockquote><p><code>pure</code>å±æ€§æŒ‡å®šäº†ä¸€ä¸ªå‡½æ•°é™¤äº†è¿”å›å€¼æ²¡æœ‰å‰¯ä½œç”¨ï¼Œä¾‹å¦‚å®ƒçš„è¿”å›å€¼ä»…ä»…ä¾èµ–å‚æ•°å’Œ/æˆ–è€…å…¨å±€å˜é‡ã€‚è¿™æ ·çš„å‡½æ•°å¯ä»¥ç”¨å…¬å…±å­è¡¨è¾¾å¼æ¶ˆé™¤å¹¶ä¸”å¾ªç¯ä¼˜åŒ–å°±åƒä¸€ä¸ªç®—æ•°æ“ä½œç¬¦é‚£æ ·ã€‚</p>

<p><code>pure</code>å±æ€§æŒ‡å®šäº†ä¸€ä¸ªå‡½æ•°ä¸ä¼šæ£€æŸ¥ä»»ä½•å€¼é™¤äº†å®ƒä»¬çš„å‚æ•°ï¼Œå¹¶ä¸”è¿”å›å€¼æ²¡æœ‰å‰¯ä½œç”¨ã€‚æ³¨æ„åˆ°ä¸€ä¸ªå‡½æ•°æœ‰ä¸€ä¸ªæŒ‡é’ˆå‚æ•°å¹¶ä¸”éœ€å‘€æ£€æŸ¥æ•°æ®çš„æŒ‡å‘ä¸èƒ½å£°æ˜æˆ<code>const</code>ã€‚åŒæ ·çš„ï¼Œä¸€ä¸ªå‡½æ•°è°ƒç”¨ä¸€ä¸ªé<code>nonst</code>å‡½æ•°é€šå¸¸ä¸èƒ½ä¸º<code>const</code>,ä¸€ä¸ª<code>const</code>å‡½æ•°è¿”å›<code>void</code>å¹¶æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ã€‚</p></blockquote>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="kt">int</span> <span class="nf">square</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="n">__attribute__</span><span class="p">((</span><span class="k">const</span><span class="p">));</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>pure</code>å’Œ<code>const</code>æ˜¯ä¸¤ä¸ªæ‰§è¡Œåœ¨ä¸€ä¸ªå‡½æ•°å¼ç¼–ç¨‹æƒ¯ä¾‹ä¸­çš„å‚æ•°ä¸ºäº†å…è®¸æœ‰æ•ˆæ€§èƒ½ä¼˜åŒ–ã€‚<code>const</code>å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸¥æ ¼å½¢å¼çš„<code>pure</code>å› ä¸ºå®ƒä¸ä¾èµ–å…¨å±€å˜é‡æˆ–è€…æŒ‡é’ˆã€‚</p>

<p>ä¾‹å¦‚ï¼Œå› ä¸ºä¸€ä¸ªå‡½æ•°å£°æ˜ä¸º<code>const</code>çš„ç»“æœå¹¶ä¸ä¾èµ–ä»»ä½•ä¸œè¥¿é™¤äº†ä¼ è¿›æ¥çš„å‚æ•°ã€‚å‡½æ•°çš„ç»“æœèƒ½å¤Ÿç¼“å­˜é‚£ä¸ªç»“æœå¹¶ä¸”å½“å‡½æ•°è¢«è°ƒç”¨æ—¶è¿”å›ï¼Œè¿™æ ·çš„å‡½æ•°å«åšç›¸åŒçš„ç»„åˆå‚æ•°ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬çŸ¥é“ä¸€ä¸ªæ•°å­—çš„å¹³æ–¹æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»…ä»…éœ€è¦åªè®¡ç®—å®ƒä¸€æ¬¡)ã€‚</p>

<p><strong>unused</strong></p>

<blockquote><p>è¿™ä¸ªå±æ€§ï¼Œé™„ç€åœ¨ä¸€ä¸ªå‡½æ•°åé¢ï¼Œæ„å‘³ç€é‚£ä¸ªå‡½æ•°å¾ˆå¯èƒ½ä¸ä¼šè¢«ä½¿ç”¨ï¼ŒGCCä¸ä¼šå¯¹è¿™ä¸ªå‡½æ•°äº§ç”Ÿè­¦å‘Šã€‚</p></blockquote>

<p>ç”¨<code>__unused</code>å…³é”®è¯å¯ä»¥è·å¾—ç›¸åŒçš„æ•ˆæœï¼Œå£°æ˜è¿™ä¸ªåœ¨æ–¹æ³•å®ç°ä¸­ä¸ä¼šè¢«ä½¿ç”¨çš„å‚æ•°ä¸­ã€‚çŸ¥é“é‚£ä»¥åä¸€äº›ä¸Šä¸‹æ–‡å°±å¯ä»¥å…è®¸ç¼–è¯‘å™¨æ¥åšç›¸åº”çš„ä¼˜åŒ–ã€‚ä½ å¾ˆå¯èƒ½å–œæ¬¢åœ¨delegateæ–¹æ³•å®ç°æå‹‰ä½¿ç”¨<code>__unused</code>,å› ä¸ºåè®®é¢‘ç¹çš„æé«˜æ›´å¤šçš„ä¸Šä¸‹æ–‡æ¯”é€šå¸¸å¿…è¦çš„æƒ…å†µï¼Œä¸ºäº†æ»¡è¶³å¤§é‡çš„æ½œåœ¨ä½¿ç”¨æ¡ˆä¾‹ã€‚</p>

<h3>LLVM</h3>

<p>åƒGCCçš„å¾ˆå¤šç‰¹å¾ä¸€æ ·ï¼ŒClangä¹Ÿæ”¯æŒ<code>__attribute__</code>,æ·»åŠ åˆ°å®ƒè‡ªå·±çš„å°èŒƒå›´çš„æ‰©å±•ã€‚ä¸ºäº†æ£€æŸ¥æŸä¸ªå±æ€§çš„å¯ç”¨æ€§ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨<code>__has_attribute</code>å±æ€§ã€‚</p>

<p><strong>availability</strong></p>

<blockquote><p>Clangå¼•è¿›äº†availabilityå±æ€§ï¼Œè¿™ä¸ªå¯ä»¥è¢«å–ä»£åœ¨å£°æ˜æè¿°çš„ç”Ÿå‘½å‘¨æœŸä¸­å£°æ˜ç›¸å¯¹äºæ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬ã€‚æ€è€ƒå¯¹ä¸€ä¸ªç®€å•å‡½æ•°fï¼šçš„å‡½æ•°å£°æ˜</p></blockquote>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="kt">void</span> <span class="nf">f</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">availability</span><span class="p">(</span><span class="n">macosx</span><span class="p">,</span><span class="n">introduced</span><span class="o">=</span><span class="mf">10.4</span><span class="p">,</span><span class="n">deprecated</span><span class="o">=</span><span class="mf">10.6</span><span class="p">,</span><span class="n">obsoleted</span><span class="o">=</span><span class="mf">10.7</span><span class="p">)));</span>
</span></code></pre></td></tr></table></div></figure>


<blockquote><p><code>availability</code>å±æ€§å£°æ˜fåœ¨OS Xè€è™ç³»ç»Ÿä¸­è¢«å¼•å…¥ï¼Œåœ¨OS Xé›ªè±¹ç³»ç»Ÿä¸­è¢«å¼ƒç”¨ï¼Œåœ¨OS X å±±ç‹®ç³»ç»Ÿä¸­è¢«åºŸå¼ƒã€‚</p>

<p>è¿™ä¸ªä¿¡æ¯è¢«Clangç”¨æ¥å†³å®šä»€ä¹ˆæ—¶å€™ä½¿ç”¨fï¼šå‡½æ•°å¼å®‰å…¨çš„ï¼Œä¾‹å¦‚ï¼Œå‡å¦‚Clangåœ¨OS X ç¾æ´²è±¹ç³»ç»Ÿä¸Šç¼–è¯‘ï¼Œè°ƒç”¨f()å‡½æ•°å°†æˆåŠŸã€‚å‡å¦‚Clangåœ¨OS Xé›ªè±¹ç³»ç»Ÿä¸­ç¼–è¯‘ï¼Œå‡½æ•°è°ƒç”¨å°†æˆåŠŸä½†æ˜¯Clangä¼šå‘å‡ºä¸€ä¸ªè­¦å‘ŠæŒ‡æ˜è¿™ä¸ªå‡½æ•°è¢«å¼ƒç”¨äº†ã€‚æœ€åï¼Œå‡å¦‚Clangè¢«å¼•è¿›ç¼–è¯‘OS Xå±±ç‹®ç³»ç»Ÿçš„ä»£ç ï¼Œå‡½æ•°è°ƒç”¨å°†å¤±è´¥ï¼Œå› ä¸ºf()å‡½æ•°å·²ç»ä¸å†å¯ç”¨äº†ã€‚</p>

<p><code>availability</code>å±æ€§æ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„åˆ—è¡¨ä»¥å¹³å°åå¼€å§‹ç„¶åå¼•å…¥ä¸€äº›å®šè¯­åˆ—ä¸¾å‡ºç”Ÿå‘½å‘¨æœŸå†…çš„é‡è¦é‡Œç¨‹ç¢‘äº‹ä»¶é™„åŠ é¢å¤–çš„ä¿¡æ¯ï¼ˆä»¥ä»»ä½•é¡ºåºï¼‰ã€‚</p></blockquote>

<ul>
<li>introducedï¼šå£°æ˜è¢«å¼•å…¥çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬</li>
<li>deprecatedï¼šå£°æ˜è¢«å¼ƒç”¨çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œè¿™æ„å‘³ç€ç”¨æˆ·åº”è¯¥æŠŠè¿™ä¸ªAPIç§»èµ°</li>
<li>obsoletedï¼š å£°æ˜è¢«åºŸå¼ƒçš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œè¿™æ„å‘³ç€å®ƒå°†è¢«å®Œå…¨ç§»é™¤å¹¶ä¸”ä¸èƒ½å†ä½¿ç”¨</li>
<li>unavailableï¼šå£°æ˜åœ¨è¿™ä¸ªå¹³å°ä¸Šå°†æ°¸è¿œä¸å¯ç”¨</li>
<li>messageï¼šé¢å¤–çš„æ¶ˆæ¯å°†è¢«Clangæä¾›å½“å¿½ç•¥ä¸€ä¸ªè­¦å‘Šæˆ–è€…ä¸€ä¸ªé”™è¯¯åœ¨ä½¿ç”¨ä¸€ä¸ªè¢«å¼ƒç”¨æˆ–è€…è¢«åºŸå¼ƒçš„å£°æ˜ã€‚å¯¹å¼•å¯¼ç”¨æˆ·æ›¿æ¢APIså¾ˆæœ‰ç”¨ã€‚</li>
</ul>


<blockquote><p>åœ¨å£°æ˜æ—¶å¯ä»¥ä½¿ç”¨å¤šä¸ªavailabilityå±æ€§ï¼Œæ¯ä¸ªå¯¹åº”ä¸åŒçš„å¹³å°ï¼Œä»…å½“availabilityå±æ€§å¯¹åº”ç›¸åº”çš„ç›®æ ‡å¹³å°è¢«ä½¿ç”¨çš„æ—¶å€™ï¼Œä»»ä½•å…¶ä»–æ‰å°†è¢«å¿½ç•¥ã€‚å‡å¦‚æ²¡æœ‰availability å±æ€§æŒ‡å®šå¯ç”¨æ€§å¯¹ç°åœ¨çš„ç›®æ ‡å¹³å°ï¼Œavailability å±æ€§å°†è¢«å¿½ç•¥ã€‚</p></blockquote>

<h4>æ”¯æŒçš„å¹³å°ï¼š</h4>

<ul>
<li>iosï¼šè‹¹æœçš„iOSæ“ä½œç³»ç»Ÿã€‚æœ€å°çš„éƒ¨ç½²ç›®æ ‡è¢«æŒ‡å®šé€šè¿‡<code>-mios-version-min=*version*</code>æˆ–è€…<code>-miphoneos-version-min=*version*</code>å‘½ä»¤è¡Œå‚æ•°ã€‚</li>
<li>macosxï¼šè‹¹æœçš„OS X æ“ä½œç³»ç»Ÿï¼Œæœ€å°çš„éƒ¨ç½²ç›®æ ‡è¢«æŒ‡å®šé€šè¿‡<code>-mmacosx-version-min=*version*</code>å‘½ä»¤è¡Œå‚æ•°</li>
</ul>


<p><strong>overloadable</strong></p>

<blockquote><p>Clangæä¾›å¯¹C++å‡½æ•°åœ¨Cä¸­é‡è½½çš„æ”¯æŒã€‚åœ¨Cä¸­å‡½æ•°é‡è½½è¢«å¼•è¿›ä½¿ç”¨<code>overloadable</code>å±æ€§ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªå¯èƒ½æä¾›ä¸€ä¸ªé‡è½½ç‰ˆæœ¬çš„<code>tgsin</code>å‡½æ•°æ¥ç²¾ç¡®æ‰§è¡Œç›¸å…³çš„æ ‡å‡†å‡½æ•°è®¡ç®—<code>float</code>,<code>double</code>,<code>long double</code>çš„æ­£å¼¦å€¼ï¼š</p></blockquote>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="cp">#include &lt;math.h&gt;</span>
</span><span class='line'><span class="kt">float</span> <span class="nf">__attribute__</span><span class="p">((</span><span class="n">overloadable</span><span class="p">))</span> <span class="n">tgsin</span><span class="p">(</span><span class="kt">float</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">sinf</span><span class="p">(</span><span class="n">x</span><span class="p">);</span> <span class="p">}</span>
</span><span class='line'><span class="kt">double</span> <span class="nf">__attribute__</span><span class="p">((</span><span class="n">overloadable</span><span class="p">))</span> <span class="n">tgsin</span><span class="p">(</span><span class="kt">double</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">);</span> <span class="p">}</span>
</span><span class='line'><span class="kt">long</span> <span class="kt">double</span> <span class="nf">__attribute__</span><span class="p">((</span><span class="n">overloadable</span><span class="p">))</span> <span class="n">tgsin</span><span class="p">(</span><span class="kt">long</span> <span class="kt">double</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">sinl</span><span class="p">(</span><span class="n">x</span><span class="p">);</span> <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>è¯·æ³¨æ„<code>overloadable</code>åªå¯¹å‡½æ•°èµ·ä½œç”¨ã€‚ä½ å¯ä»¥é‡è½½æ–¹æ³•å£°æ˜åœ¨æŸç§èŒƒå›´å†…é€šè¿‡ä½¿ç”¨é€šç”¨çš„è¿”å›å€¼å’Œå‚æ•°ç±»å‹ï¼Œæƒ³<code>id</code>æˆ–è€…<code>void *</code>.</p>

<hr />

<p>ä¸Šä¸‹æ–‡æ˜¯å›½ç‹å½“å®ƒé‡åˆ°ç¼–è¯‘å™¨ä¼˜åŒ–æ—¶ã€‚é€šè¿‡æä¾›é™åˆ¶åœ¨æ€æ ·è§£æä½ çš„ä»£ç ï¼Œå¢åŠ ä½ å‚æ•°å°½å¯èƒ½é«˜æ•ˆä»£ç çš„å¯èƒ½æ€§ã€‚é‡åˆ°ç¼–è¯‘å™¨æŠŠä½ æ‰“æ–­ï¼Œè¿™å°†æ˜¯ä¸€é¡¹å¥–åŠ±ã€‚</p>

<p>è¿˜æœ‰<code>__attribute__</code>å¹¶ä¸ä»…ä»…å¯¹ç¼–è¯‘å™¨æœ‰ç”¨ï¼šä¸‹ä¸€ä¸ªäººçœ‹ä»£ç ä¹Ÿå°†æ„Ÿè°¢è¿™äº›é¢å¤–çš„ä¸Šä¸‹æ–‡ã€‚æ‰€ä»¥å¤šèµ°å‡ è‹±å°ºè¿œå°†å¯¹ä½ çš„åˆä½œä¸­å’Œæ¥æ›¿è€…æˆ–è€…ä»ç°åœ¨ç®—2å¹´ä»¥åçš„ä½ (é‚£ä¸ªæ—¶å€™ä½ å·²ç»å¿˜è®°äº†æ‰€ä»¥çš„äº‹æƒ…å…³äºè¿™ä»½ä»£ç )è‡ªå·±æœ‰ç”¨</p>

<p>ä½ ä»˜å‡ºäº†å¤šå°‘çˆ±,æœ€ç»ˆä½ ä¼šå¾—åˆ°å¤šå°‘çˆ±ã€‚</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/01/12/runloopxiang-jie/">RunLoopè¯¦è§£</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-01-12T04:44:06+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>12</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>4:44 am</span></time>
        
           | <a href="/blog/2016/01/12/runloopxiang-jie/#disqus_thread"
             data-disqus-identifier="http://wangruofeng.github.io/blog/2016/01/12/runloopxiang-jie/">Comments</a>
        
	{ % if site.duoshuo_short_name and page.comments != false and post.comments != false and site.duoshuo_comments == true %}| <a href="{ % if index % }{ % endif %}#comments">Comments</a>
	{ % endif %}
      </p>
    
  </header>


  <div class="entry-content"><h2>NSRunLoopæ˜¯ä»€ä¹ˆï¼Ÿ</h2>

<p>åœ¨Cocoaä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹(<code>NSThread</code>)å¯¹è±¡ä¸­å†…éƒ¨éƒ½æœ‰ä¸€ä¸ªrun loopï¼ˆ<code>NSRunLoop</code>ï¼‰å¯¹è±¡ç”¨æ¥å¾ªç¯å¤„ç†è¾“å…¥äº‹ä»¶.</p>

<p><em>NSRunloopå¹¶ä¸çœŸçš„æ˜¯ä¸€ä¸ªloopï¼Œçš„appleçš„æ–‡æ¡£ä¸­ ä¹Ÿæåˆ°äº†éœ€è¦è‡ªå·±å†™whileæˆ–è€…forè¯­å¥æ¥å®ç°,ç±»ä¼¼ä¸‹é¢ï¼š</em></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="k">while</span><span class="p">(</span><span class="n">running</span><span class="p">){</span>
</span><span class='line'>    <span class="p">[</span><span class="bp">NSRunLoop</span> <span class="n">currentRunLoop</span><span class="p">]</span> <span class="nl">runMode</span><span class="p">:</span><span class="n">NSDefaultRunLoopMode</span> <span class="nl">beforeDate</span><span class="p">:[</span><span class="bp">NSDate</span> <span class="n">distantFuture</span><span class="p">]];</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>ä½•ä¸ºRun loop äº‹ä»¶æº</h2>

<p>ä»å­—é¢ç¿»è¯‘æ¥çœ‹ï¼Œrun loopå°±æ˜¯ä¸€ä¸ªè¿è¡Œå¾ªç¯ï¼Œçš„ç¡®å®ƒå°±æ˜¯ä¸€ä¸ªå¤„ç†è¾“å…¥æ—¶é—´çš„è¿è¡Œå¾ªç¯ï¼Œä¸ºä»€ä¹ˆéœ€è¦è¿™æ ·å¤„ç†ï¼Œéš¾é“æ²¡æœ‰äº‹ä»¶å‘ç”Ÿçš„æ—¶å€™è®©çº¿ç¨‹ç©ºè½¬æµªè´¹èµ„æºï¼Ÿå¾ˆæ˜æ˜¾åœ¨æœ‰äº‹ä»¶å‘ç”Ÿçš„æ—¶å€™å”¤é†’çº¿ç¨‹ï¼Œæ²¡æœ‰äº‹ä»¶å‘ç”Ÿçš„æ—¶å€™è®©å…¶sleepæ›´å¥½ã€‚</p>

<p>ä¸‹é¢æˆ‘è¿˜æ˜¯æ‹¿è¿™å¼ ç™¾çœ‹ä¸åŒçš„å›¾æ¥è¯´äº‹ï¼š
<img src="http://ww2.sinaimg.cn/mw690/64124373gw1ezgx936dhzj20dg071aav.jpg" alt="runloop" /></p>

<p>å¤„ç†çš„äº‹ä»¶åŒ…æ‹¬ä¸¤ç±»
* æ¥è‡ªTimer sourcesçš„åŒæ­¥äº‹ä»¶
* æ¥è‡ªInput sourcesçš„å¼‚æ­¥äº‹ä»¶</p>

<p>1.Time Source. Timer sources deliver synchronous events, occurring at a scheduled time or repeating interval.
è‹¹æœæ–‡æ¡£ä¸­æœ‰å¥è¯éœ€è¦æ³¨æ„ï¼Œ</p>

<blockquote><p>Timer sources deliver events to their handler routines but do not cause the run loop to exit.*</p></blockquote>

<p>åˆ›å»ºNSTimeræ·»åŠ åˆ°run loopä¸­çš„æ—¶å€™ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>NSTimer</code>é»˜è®¤æ˜¯å¤„äº<code>NSDefaultRunloopMode</code>ï¼Œè¿™ä¹Ÿå°±å¯ä»¥è§£é‡Šä¸ºä»€ä¹ˆå¦‚æœä½ åœ¨ä½ çš„æ§åˆ¶å™¨ä¸­æ·»åŠ äº†ä¸€ä¸ªtimerå®šæ—¶åˆ·æ–°ä½ çš„ç•Œé¢ï¼Œè€Œä½ åœ¨æ‹–åŠ¨è§†å›¾çš„æ—¶å€™timerä¸å›fireï¼Œå› ä¸ºè¿™ä¸ªæ—¶å€™ä½ çš„runloop æ˜¯<code>NSEventTrackingRunloopMode</code>,åœ¨è¿™ä¸ªmodeä¸‹timerä¸å›fire</p>

<p>2.input source input source ä¸»è¦æ˜¯ä¸€äº›å¼‚æ­¥çš„äº‹ä»¶ï¼Œæ¯”å¦‚æ¥è‡ªå…¶å®ƒçº¿ç¨‹æˆ–è€…å…¶å®ƒappçš„æ¶ˆæ¯ã€‚</p>

<p>input source ä¼ é€’å¼‚æ­¥äº‹ä»¶åˆ°å…¶å¯¹åº”çš„å¤„ç†å‡½æ•°ï¼Œå¹¶ä¸”ä½¿runUntilDate(ä¸çº¿ç¨‹ç›¸å…³è”çš„runloopå¯¹è±¡è°ƒç”¨)è¿”å›</p>

<p>ä¸ºäº†èƒ½å¤Ÿå¤„ç†input sourcrï¼Œrun loops äº§ç”Ÿnotifications.é€šè¿‡æ³¨å†Œæˆrun-loop observerså¯ä»¥æ¥å—åˆ°è¿™äº›é€šçŸ¥ï¼ˆé€šè¿‡Core Foundation æ¥æ³¨å†Œobserversï¼‰.</p>

<h2>RunLoopModeæœ‰å“ªäº›ï¼Ÿ</h2>

<p>run loopåœ¨å¤„ç†è¾“å…¥äº‹ä»¶æ—¶ä¼šäº§ç”Ÿé€šçŸ¥ï¼Œå¯ä»¥é€šè¿‡Core Foundationå‘çº¿ç¨‹ä¸­æ·»åŠ run loop observersæ¥ç›‘å¬ç‰¹å®šäº‹ä»¶,ä»¥åœ¨ç›‘å¬çš„äº‹ä»¶å‘ç”Ÿæ—¶åšé™„åŠ çš„å¤„ç†å·¥ä½œã€‚</p>

<p>æ¯ä¸ªrun loopå¯è¿è¡Œåœ¨ä¸åŒçš„æ¨¡å¼ä¸‹,ä¸€ä¸ªrun loop modeæ˜¯ä¸€ä¸ªé›†åˆï¼Œå…¶ä¸­åŒ…å«å…¶ç›‘å¬çš„è‹¥å¹²è¾“å…¥äº‹ä»¶æºï¼Œå®šæ—¶å™¨ï¼Œä»¥åŠåœ¨äº‹ä»¶å‘ç”Ÿæ—¶éœ€è¦é€šçŸ¥çš„run loop observersã€‚è¿è¡Œåœ¨ä¸€ç§modeä¸‹çš„run loopåªä¼šå¤„ç†å…¶run loop modeä¸­åŒ…å«çš„è¾“å…¥æºäº‹ä»¶ï¼Œå®šæ—¶å™¨äº‹ä»¶ï¼Œä»¥åŠé€šçŸ¥run loop modeä¸­åŒ…å«çš„observersã€‚</p>

<p>Cocoaä¸­çš„é¢„å®šä¹‰æ¨¡å¼æœ‰:
1. Defaultæ¨¡å¼</p>

<pre><code>å®šä¹‰[NSDefaultRunLoopMode](https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Classes/NSRunLoop_Class/index.html#//apple_ref/c/data/NSDefaultRunLoopMode) (Cocoa) [kCFRunLoopDefaultMode](https://developer.apple.com/library/ios/documentation/CoreFoundation/Reference/CFRunLoopRef/index.html#//apple_ref/c/data/kCFRunLoopDefaultMode) (Core Foundation)

æè¿°ï¼šé»˜è®¤æ¨¡å¼ä¸­å‡ ä¹åŒ…å«äº†æ‰€æœ‰è¾“å…¥æº(NSConnectioné™¤å¤–),ä¸€èˆ¬æƒ…å†µä¸‹åº”ä½¿ç”¨æ­¤æ¨¡å¼ï¼Œè¿™æ˜¯æœ€å¸¸ç”¨çš„run loop modeã€‚
</code></pre>

<ol>
<li><p>Connectionæ¨¡å¼</p>

<p> å®šä¹‰ï¼š<code>NSConnectionReplyMode</code>(Cocoa)</p>

<p> æè¿°ï¼šå¤„ç†<code>NSConnection</code>å¯¹è±¡ç›¸å…³äº‹ä»¶ï¼Œç³»ç»Ÿå†…éƒ¨ä½¿ç”¨ï¼Œè¿™ä¸ªmodeè¡¨æ˜<code>NSConnection</code>å¯¹è±¡ç­‰å¾…reply,ç”¨æˆ·åŸºæœ¬ä¸ä¼šä½¿ç”¨ã€‚</p></li>
<li><p>Modalæ¨¡å¼</p>

<p> å®šä¹‰ï¼š<code>NSModalPanelRunLoopMode</code>(Cocoa)</p>

<p> æè¿°ï¼šå¤„ç†modal panelsäº‹ä»¶,éœ€è¦ç­‰å¾…å¤„ç†çš„input sourceä¸ºmodal panelæ—¶è®¾ç½®ï¼Œæ¯”å¦‚NSSavePanelå’ŒNSOpenPanelã€‚</p></li>
<li><p>Event trackingæ¨¡å¼
 å®šä¹‰ï¼š<a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIApplication_Class/index.html#//apple_ref/doc/uid/TP40006728-CH3-SW38">UITrackingRunLoopMode</a>(iOS) <code>NSEventTrackingRunLoopMode</code>(cocoa)</p>

<p> æè¿°ï¼šä½¿ç”¨è¯¥æ¨¡å¼æ¥å¤„ç†ç”¨æˆ·ç•Œé¢ç›¸å…³çš„äº‹ä»¶,ä¾‹å¦‚åœ¨æ‹–åŠ¨loopæˆ–å…¶ä»–user interface tracking loopsæ—¶å¤„äºæ­¤ç§æ¨¡å¼ä¸‹ï¼Œåœ¨æ­¤æ¨¡å¼ä¸‹ä¼šé™åˆ¶è¾“å…¥äº‹ä»¶çš„å¤„ç†ã€‚ä¾‹å¦‚ï¼Œå½“æ‰‹æŒ‡æŒ‰ä½UITableViewæ‹–åŠ¨æ—¶å°±ä¼šå¤„äºæ­¤æ¨¡å¼ã€‚</p></li>
<li><p>Commonæ¨¡å¼</p>

<p> å®šä¹‰ï¼š<a href="https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Classes/NSRunLoop_Class/index.html#//apple_ref/c/data/NSRunLoopCommonModes">NSRunLoopCommonModes</a> (Cocoa) <a href="https://developer.apple.com/library/ios/documentation/CoreFoundation/Reference/CFRunLoopRef/index.html#//apple_ref/c/data/kCFRunLoopCommonModes">kCFRunLoopCommonModes</a> (Core Foundation)</p>

<p> æè¿°ï¼šè¿™æ˜¯ä¸€ä¸ªä¼ªæ¨¡å¼ï¼Œå…¶ä¸ºä¸€ç»„run loop modeçš„é›†åˆï¼Œå°†è¾“å…¥æºåŠ å…¥æ­¤æ¨¡å¼æ„å‘³ç€åœ¨Common Modesä¸­åŒ…å«çš„æ‰€æœ‰æ¨¡å¼ä¸‹éƒ½å¯ä»¥å¤„ç†ã€‚åœ¨Cocoaåº”ç”¨ç¨‹åºä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹Common ModesåŒ…å«default modes,modal modes,event Tracking modes,
 å¯ä½¿ç”¨<a href="https://developer.apple.com/library/ios/documentation/CoreFoundation/Reference/CFRunLoopRef/index.html#//apple_ref/c/func/CFRunLoopAddCommonMode">CFRunLoopAddCommonMode</a>æ–¹æ³•å‘Common Modesä¸­æ·»åŠ è‡ªå®šä¹‰modesã€‚</p>

<p> <strong>æ³¨æ„è¿™ä¸ªå¹¶ä¸æ˜¯ä¸€ä¸ªç‰¹å®šçš„modeï¼Œè€Œæ˜¯ä¸€ä¸ªmodeçš„é›†åˆï¼Œè€Œrunloopå¿…é¡»è¿è¡Œåœ¨ä¸€ä¸ªç‰¹å®šçš„modeä¸‹</strong>ã€‚</p></li>
</ol>


<p>è·å–å½“å‰çº¿ç¨‹çš„runloop mode</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="bp">NSString</span><span class="o">*</span> <span class="n">runLoopMode</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">NSRunLoop</span> <span class="n">currentRunLoop</span><span class="p">]</span> <span class="n">currentMode</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<h2>NSTimerã€NSURLConnectionä¸UITrackingRunLoopMode</h2>

<p>NSTimerä¸NSURLConnectioné»˜è®¤è¿è¡Œåœ¨default modeä¸‹ï¼Œè¿™æ ·å½“ç”¨æˆ·åœ¨æ‹–åŠ¨UITableViewå¤„äºUITrackingRunLoopModeæ¨¡å¼æ—¶ï¼ŒNSTimerä¸èƒ½fire,NSURLConnectionçš„æ•°æ®ä¹Ÿæ— æ³•å¤„ç†ã€‚
NSTimerçš„ä¾‹å­:
åœ¨ä¸€ä¸ªUITableViewControllerä¸­å¯åŠ¨ä¸€ä¸ª0.2sçš„å¾ªç¯å®šæ—¶å™¨ï¼Œåœ¨å®šæ—¶å™¨åˆ°æœŸæ—¶æ›´æ–°ä¸€ä¸ªè®¡æ•°å™¨ï¼Œå¹¶æ˜¾ç¤ºåœ¨labelä¸Šã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">viewDidLoad</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">label</span> <span class="o">=</span><span class="p">[[</span><span class="bp">UILabel</span> <span class="n">alloc</span><span class="p">]</span><span class="nl">initWithFrame</span><span class="p">:</span><span class="n">CGRectMake</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">)];</span>
</span><span class='line'>    <span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">addSubview</span><span class="p">:</span><span class="n">label</span><span class="p">];</span>
</span><span class='line'>    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="bp">NSTimer</span> <span class="o">*</span><span class="n">timer</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSTimer</span> <span class="nl">scheduledTimerWithTimeInterval</span><span class="p">:</span> <span class="mf">0.2</span>
</span><span class='line'>                                                      <span class="nl">target</span><span class="p">:</span> <span class="nb">self</span>
</span><span class='line'>                                                    <span class="nl">selector</span><span class="p">:</span> <span class="k">@selector</span><span class="p">(</span><span class="nl">incrementCounter</span><span class="p">:)</span>
</span><span class='line'>                                                    <span class="nl">userInfo</span><span class="p">:</span> <span class="nb">nil</span>
</span><span class='line'>                                                     <span class="nl">repeats</span><span class="p">:</span> <span class="nb">YES</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">incrementCounter:</span><span class="p">(</span><span class="bp">NSTimer</span> <span class="o">*</span><span class="p">)</span><span class="nv">theTimer</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">count</span><span class="o">++</span><span class="p">;</span> <span class="n">label</span><span class="p">.</span><span class="n">text</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSString</span> <span class="nl">stringWithFormat</span><span class="p">:</span><span class="s">@&quot;%zd&quot;</span><span class="p">,</span><span class="n">count</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œå¯çœ‹åˆ°æ¯éš”0.2sï¼Œlabelä¸Šæ˜¾ç¤ºçš„æ•°å­—+1,ä½†å½“ä½ æ‹–åŠ¨æˆ–æŒ‰ä½tableViewæ—¶ï¼Œlabelä¸Šçš„æ•°å­—ä¸å†æ›´æ–°ï¼Œå½“ä½ æ‰‹æŒ‡ç¦»å¼€æ—¶ï¼Œlabelä¸Šçš„æ•°å­—ç»§ç»­æ›´æ–°ã€‚å½“ä½ æ‹–åŠ¨<code>UItableView</code>æ—¶ï¼Œå½“å‰çº¿ç¨‹run loopå¤„äº<code>UIEventTrackingRunLoopMode</code>æ¨¡å¼ï¼Œåœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œä¸å¤„ç†å®šæ—¶å™¨äº‹ä»¶ï¼Œå³å®šæ—¶å™¨æ— æ³•fire,labelä¸Šçš„æ•°å­—ä¹Ÿå°±æ— æ³•æ›´æ–°ã€‚
è§£å†³æ–¹æ³•ï¼Œä¸€ç§æ–¹æ³•æ˜¯åœ¨å¦å¤–çš„çº¿ç¨‹ä¸­å¤„ç†å®šæ—¶å™¨äº‹ä»¶ï¼Œå¯æŠŠTimeråŠ å…¥åˆ°<code>NSOperation</code>ä¸­åœ¨å¦ä¸€ä¸ªçº¿ç¨‹ä¸­è°ƒåº¦;è¿˜æœ‰ä¸€ç§æ–¹æ³•æ—¶ä¿®æ”¹Timerè¿è¡Œçš„run loopæ¨¡å¼ï¼Œå°†å…¶åŠ å…¥åˆ°<code>UITrackingRunLoopMode</code>æ¨¡å¼æˆ–<code>NSRunLoopCommonModes</code>æ¨¡å¼ä¸­ã€‚
å³</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="p">[[</span><span class="bp">NSRunLoop</span> <span class="n">currentRunLoop</span><span class="p">]</span> <span class="nl">addTimer</span><span class="p">:</span><span class="n">timer</span> <span class="nl">forMode</span><span class="p">:</span><span class="n">UITrackingRunLoopMode</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<p>æˆ–</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="p">[[</span><span class="bp">NSRunLoop</span> <span class="n">currentRunLoop</span><span class="p">]</span> <span class="nl">addTimer</span><span class="p">:</span><span class="n">timer</span> <span class="nl">forMode</span><span class="p">:</span><span class="n">NSRunLoopCommonModes</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<p>å¦å¤–ä¸€ç§æ˜¯æ”¾åˆ°<code>NSThread</code>ä¸­</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">viewDidLoad</span><span class="p">{</span>
</span><span class='line'>    <span class="p">[</span><span class="nb">super</span> <span class="n">viewDidLoad</span><span class="p">];</span>
</span><span class='line'>    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;ä¸»çº¿ç¨‹ %@&quot;</span><span class="p">,</span> <span class="p">[</span><span class="bp">NSThread</span> <span class="n">currentThread</span><span class="p">]);</span>
</span><span class='line'>    <span class="c1">//åˆ›å»ºå¹¶æ‰§è¡Œæ–°çš„çº¿ç¨‹</span>
</span><span class='line'>    <span class="bp">NSThread</span> <span class="o">*</span><span class="kr">thread</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">NSThread</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithTarget</span><span class="p">:</span><span class="nb">self</span> <span class="nl">selector</span><span class="p">:</span><span class="k">@selector</span><span class="p">(</span><span class="n">newThread</span><span class="p">)</span> <span class="nl">object</span><span class="p">:</span><span class="nb">nil</span><span class="p">];</span>
</span><span class='line'>    <span class="p">[</span><span class="kr">thread</span> <span class="n">start</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">newThread</span><span class="p">{</span>
</span><span class='line'>    <span class="k">@autoreleasepool</span><span class="p">{</span>
</span><span class='line'>        <span class="c1">//åœ¨å½“å‰Run Loopä¸­æ·»åŠ timerï¼Œæ¨¡å¼æ˜¯é»˜è®¤çš„NSDefaultRunLoopMode</span>
</span><span class='line'>        <span class="p">[</span><span class="bp">NSTimer</span> <span class="nl">scheduledTimerWithTimeInterval</span><span class="p">:</span><span class="mf">2.0</span> <span class="nl">target</span><span class="p">:</span><span class="nb">self</span> <span class="nl">selector</span><span class="p">:</span><span class="k">@selector</span><span class="p">(</span><span class="n">timer_callback</span><span class="p">)</span> <span class="nl">userInfo</span><span class="p">:</span><span class="nb">nil</span> <span class="nl">repeats</span><span class="p">:</span><span class="nb">YES</span><span class="p">];</span>
</span><span class='line'>        <span class="c1">//å¼€å§‹æ‰§è¡Œæ–°çº¿ç¨‹çš„Run Loopï¼Œå¦‚æœä¸å¯åŠ¨run loopï¼Œtimerçš„äº‹ä»¶æ˜¯ä¸ä¼šå“åº”çš„</span>
</span><span class='line'>        <span class="p">[[</span><span class="bp">NSRunLoop</span> <span class="n">currentRunLoop</span><span class="p">]</span> <span class="n">run</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">timer_callback</span><span class="p">{</span>
</span><span class='line'>    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Timer %@&quot;</span><span class="p">,</span> <span class="p">[</span><span class="bp">NSThread</span> <span class="n">currentThread</span><span class="p">]);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>NSURLConnection</code>ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œè§<a href="https://github.com/rs/SDWebImage">SDWebImage</a>ä¸­çš„æè¿°,ä»¥åŠ<a href="https://github.com/rs/SDWebImage/blob/master/SDWebImage/SDWebImageDownloader.m">SDWebImageDownloader.m</a>ä»£ç ä¸­çš„å®ç°ã€‚ä¿®æ”¹NSURLConnectionçš„è¿è¡Œæ¨¡å¼å¯ä½¿ç”¨<a href="https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Classes/NSURLConnection_Class/Reference/Reference.html#//apple_ref/occ/instm/NSURLConnection/scheduleInRunLoop:forMode:">scheduleInRunLoop:forMode:</a>æ–¹æ³•ã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="bp">NSURL</span> <span class="o">*</span><span class="n">url</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSURL</span> <span class="nl">URLWithString</span><span class="p">:</span><span class="s">@&quot;https://www.baidu.com&quot;</span><span class="p">];</span>
</span><span class='line'><span class="bp">NSURLRequest</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">NSURLRequest</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithURL</span><span class="p">:</span><span class="n">url</span> <span class="nl">cachePolicy</span><span class="p">:</span><span class="n">NSURLRequestReloadIgnoringLocalCacheData</span> <span class="nl">timeoutInterval</span><span class="p">:</span><span class="mi">15</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'><span class="nb">self</span><span class="p">.</span><span class="n">connection</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">NSURLConnection</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithRequest</span><span class="p">:</span><span class="n">request</span> <span class="nl">delegate</span><span class="p">:</span><span class="nb">self</span> <span class="nl">startImmediately</span><span class="p">:</span><span class="nb">NO</span><span class="p">];</span>
</span><span class='line'><span class="p">[</span><span class="n">connection</span> <span class="nl">scheduleInRunLoop</span><span class="p">:[</span><span class="bp">NSRunLoop</span> <span class="n">currentRunLoop</span><span class="p">]</span> <span class="nl">forMode</span><span class="p">:</span><span class="n">NSRunLoopCommonModes</span><span class="p">];</span>
</span><span class='line'><span class="p">[</span><span class="n">connection</span> <span class="n">start</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<h3>å‚è€ƒèµ„æ–™ï¼š</h3>

<ul>
<li><a href="https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/Multithreading/RunLoopManagement/RunLoopManagement.html#//apple_ref/doc/uid/10000057i-CH16-SW1">Threading Programming Guide â€“ Run Loops</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Classes/NSRunLoop_Class/index.html">NSRunLoop Class Reference</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Classes/NSURLConnection_Class/">NSURLConnection Class Reference</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Classes/NSTimer_Class/index.html">NSTimer Class Reference</a></li>
<li><a href="http://iphonedevwiki.net/index.php/CFRunLoop">CFRunLoop wiki</a></li>
<li><a href="https://github.com/rs/SDWebImage">SDWebImage</a></li>
<li><a href="http://hayne.net/MacDev/TestButtonDown/">TestButtonDown</a></li>
<li><a href="http://billwang1990.github.io/blog/2013/12/30/nsrunloop-issue/">å…³äºNSRunloopçš„å­¦ä¹ å’Œç†è§£</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/01/12/ios7-tintcolorxiang-jie/">iOS7 tintColorè¯¦è§£</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-01-12T04:41:39+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>12</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>4:41 am</span></time>
        
           | <a href="/blog/2016/01/12/ios7-tintcolorxiang-jie/#disqus_thread"
             data-disqus-identifier="http://wangruofeng.github.io/blog/2016/01/12/ios7-tintcolorxiang-jie/">Comments</a>
        
	{ % if site.duoshuo_short_name and page.comments != false and post.comments != false and site.duoshuo_comments == true %}| <a href="{ % if index % }{ % endif %}#comments">Comments</a>
	{ % endif %}
      </p>
    
  </header>


  <div class="entry-content"><h3>ä¸ºä»€ä¹ˆéœ€è¦å‡ºç°tintColor ï¼Ÿ</h3>

<blockquote><p>è§£å†³ä»¥å‰ä¸æ–¹ä¾¿ç»Ÿä¸€è®¾ç½®è§†å›¾é¢œè‰²é£æ ¼çš„é€šç‚¹ï¼Œæ–¹ä¾¿è‡ªå®šä¹‰ç³»ç»Ÿæ§ä»¶å¤–è§‚
 è·Ÿ<code>UIAppearance</code>åè®®è®¾è®¡æœ‰ç‚¹ç±»ä¼¼ï¼Œ<code>UIAppearance</code>æ˜¯ä¸ºäº†æ–¹ä¾¿ç»Ÿä¸€ è®¾ç½®ä¸€ç±»æ§ä»¶çš„å¤–è§‚ï¼Œè€Œ<code>tintColor</code>æ˜¯ä¸ºæ–¹ä¾¿è®¾ç½®æŸä¸ªæ§ä»¶çš„å¤–è§‚ï¼Œæˆ–è€… è¯´æŸä¸ªå®¹å™¨å†…æ‰€æœ‰æ§ä»¶çš„é£æ ¼ã€‚</p>

<p>åƒåœ¨<code>UIViewController</code> ä¸­ï¼Œé€šè¿‡è¿™æ®µä»£ç å¯ä»¥å®ç°å®¹å™¨å†…ï¼Œæ‰€æœ‰çš„å­viewé£æ ¼ç»Ÿä¸€åŒ–,è¿™æ ·åœ¨è¿™ä¸ªæ§åˆ¶å™¨ä¸­çš„æ‰€æœ‰å­viewéƒ½ä¼šä»¥<code>tintColor</code>æ˜¾ç¤º
<code>objective-c
self.view.tintAdjustmentMode = UIViewTintAdjustmentModeNormal
</code></p></blockquote>

<p><code>UIView</code>çš„<code>tintAdjustmentMode</code>éœ€è¦è¯´æ˜ä¸€ä¸‹ï¼Œè¿™æ˜¯ä¸€ä¸ª<code>UIViewTintAdjustmentMode</code>æšä¸¾ï¼Œ
* UIViewTintAdjustmentModeAutomaticï¼ˆç€è‰²è°ƒæ•´æ¨¡å¼è‡ªåŠ¨ï¼‰
* UIViewTintAdjustmentModeNormalï¼ˆç€è‰²è°ƒæ•´æ¨¡å¼æ­£å¸¸ï¼‰
* UIViewTintAdjustmentModeDimmedï¼ˆç€è‰²è°ƒæ•´æ¨¡å¼å˜æš—ï¼Œæ‰“å¼€æ§é£æ ¼ä¼šå˜æˆç°ç™½æ¨¡å¼ï¼‰</p>

<h3>å…ˆçœ‹çœ‹å®˜æ–¹APIè¯´æ˜</h3>

<p><img src="http://ww3.sinaimg.cn/mw690/64124373gw1eyvl7cyzvxj20du0kpn43.jpg" alt="tintColorå®˜æ–¹è¯´æ˜" /></p>

<blockquote><p>iOS7ä»¥åæ‰€æœ‰çš„UIViewä»¥åŠå®ƒçš„å­ç±»éƒ½æ–°å¢äº†ä¸€ä¸ªå«tintColorçš„æ¥å£ï¼Œæ–¹ä¾¿æˆ‘ä»¬å¯¹è§†å›¾è¿›è¡Œé¢œè‰²è°ƒæ•´</p></blockquote>

<h3>æ³¨æ„äº‹é¡¹</h3>

<blockquote><p><code>UIImageView</code>éœ€è¦è®¾ç½®<code>renderingMode</code>ä¸º<code>UIImageRenderingModeAlwaysTemplate</code>æ‰èƒ½ç”Ÿæ•ˆã€‚
<code>renderingMode</code>æ˜¯ä¸€ä¸ªç±»å‹ä¸º<code>UIImageRenderingMode</code>çš„æšä¸¾
* UIImageRenderingModeAutomatic ï¼ˆé»˜è®¤æ¸²æŸ“æ¨¡å¼ï¼Œè‡ªåŠ¨æ¨¡å¼ï¼‰
* UIImageRenderingModeAlwaysOriginalï¼ˆæ€»æ˜¯ç»˜åˆ¶åŸæ¥çš„å›¾ç‰‡ï¼Œä¸æŠŠå®ƒå½“æˆä¸´æ—¶å›¾ç‰‡æ¥å¤„ç†ï¼‰
* UIImageRenderingModeAlwaysTemplate ï¼ˆæ€»æ˜¯ç»˜åˆ¶ä¸´æ—¶å›¾ç‰‡ï¼Œä¼šå¿½ç•¥å®ƒåŸæœ¬çš„é¢œè‰²ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯æ ¹æ®<code>tintColor</code>ç”Ÿäº§å›¾ç‰‡ï¼‰</p></blockquote>

<h3>UIImageViewçš„ä½¿ç”¨</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="bp">UIImage</span> <span class="o">*</span><span class="n">image</span> <span class="o">=</span> <span class="p">[</span><span class="bp">UIImage</span> <span class="nl">imageNamed</span><span class="p">:</span><span class="s">@&quot;xxx.png&quot;</span><span class="p">];</span>
</span><span class='line'><span class="n">image</span> <span class="o">=</span> <span class="p">[</span><span class="n">image</span> <span class="nl">imageWithRenderingMode</span><span class="p">:</span><span class="n">UIImageRenderingModeAlwaysTemplate</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<h3>- (void)tintColorDidChangeçš„ä½¿ç”¨</h3>

<p>åœ¨å­ç±»ä¸­é‡å†™<code>- (void)tintColorDidChange</code> æ–¹æ³•ï¼Œå°±å¯ä»¥å®ç°æ¯æ¬¡æ›´æ–°<code>tintColor</code>çš„æ—¶å€™è°ƒç”¨ç›¸å…³é…ç½®</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'> <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">tintColorDidChange</span>
</span><span class='line'> <span class="p">{</span>
</span><span class='line'>    <span class="n">_tintColorLabel</span><span class="p">.</span><span class="n">textColor</span> <span class="o">=</span> <span class="nb">self</span><span class="p">.</span><span class="n">tintColor</span><span class="p">;</span>
</span><span class='line'>    <span class="n">_tintColorBlock</span><span class="p">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="nb">self</span><span class="p">.</span><span class="n">tintColor</span><span class="p">;</span>
</span><span class='line'> <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>å‚è€ƒé“¾æ¥ <a href="https://www.shinobicontrols.com/blog/ios7-day-by-day-day-6-tint-color">Demo - iOS7 tintColor day by day</a></h3>

<hr />

<p>layout: post
title: &ldquo;iOS7 tintColorè¯¦è§£&rdquo;
date: 2016-01-13 04:41:39 +0800
comments: true</p>

<h2>categories: iOS oc æŠ€å·§</h2>

<h1>iOS7 tintColor è¯¦è§£</h1>

<h3>ä¸ºä»€ä¹ˆéœ€è¦å‡ºç°tintColor ï¼Ÿ</h3>

<blockquote><p>è§£å†³ä»¥å‰ä¸æ–¹ä¾¿ç»Ÿä¸€è®¾ç½®è§†å›¾é¢œè‰²é£æ ¼çš„é€šç‚¹ï¼Œæ–¹ä¾¿è‡ªå®šä¹‰ç³»ç»Ÿæ§ä»¶å¤–è§‚
 è·Ÿ<code>UIAppearance</code>åè®®è®¾è®¡æœ‰ç‚¹ç±»ä¼¼ï¼Œ<code>UIAppearance</code>æ˜¯ä¸ºäº†æ–¹ä¾¿ç»Ÿä¸€ è®¾ç½®ä¸€ç±»æ§ä»¶çš„å¤–è§‚ï¼Œè€Œ<code>tintColor</code>æ˜¯ä¸ºæ–¹ä¾¿è®¾ç½®æŸä¸ªæ§ä»¶çš„å¤–è§‚ï¼Œæˆ–è€… è¯´æŸä¸ªå®¹å™¨å†…æ‰€æœ‰æ§ä»¶çš„é£æ ¼ã€‚</p>

<p>åƒåœ¨<code>UIViewController</code> ä¸­ï¼Œé€šè¿‡è¿™æ®µä»£ç å¯ä»¥å®ç°å®¹å™¨å†…ï¼Œæ‰€æœ‰çš„å­viewé£æ ¼ç»Ÿä¸€åŒ–,è¿™æ ·åœ¨è¿™ä¸ªæ§åˆ¶å™¨ä¸­çš„æ‰€æœ‰å­viewéƒ½ä¼šä»¥<code>tintColor</code>æ˜¾ç¤º
<code>objective-c
self.view.tintAdjustmentMode = UIViewTintAdjustmentModeNormal
</code></p></blockquote>

<p><code>UIView</code>çš„<code>tintAdjustmentMode</code>éœ€è¦è¯´æ˜ä¸€ä¸‹ï¼Œè¿™æ˜¯ä¸€ä¸ª<code>UIViewTintAdjustmentMode</code>æšä¸¾ï¼Œ
* UIViewTintAdjustmentModeAutomaticï¼ˆç€è‰²è°ƒæ•´æ¨¡å¼è‡ªåŠ¨ï¼‰
* UIViewTintAdjustmentModeNormalï¼ˆç€è‰²è°ƒæ•´æ¨¡å¼æ­£å¸¸ï¼‰
* UIViewTintAdjustmentModeDimmedï¼ˆç€è‰²è°ƒæ•´æ¨¡å¼å˜æš—ï¼Œæ‰“å¼€æ§é£æ ¼ä¼šå˜æˆç°ç™½æ¨¡å¼ï¼‰</p>

<h3>å…ˆçœ‹çœ‹å®˜æ–¹APIè¯´æ˜</h3>

<p><img src="http://ww3.sinaimg.cn/mw690/64124373gw1eyvl7cyzvxj20du0kpn43.jpg" alt="tintColorå®˜æ–¹è¯´æ˜" /></p>

<blockquote><p>iOS7ä»¥åæ‰€æœ‰çš„UIViewä»¥åŠå®ƒçš„å­ç±»éƒ½æ–°å¢äº†ä¸€ä¸ªå«tintColorçš„æ¥å£ï¼Œæ–¹ä¾¿æˆ‘ä»¬å¯¹è§†å›¾è¿›è¡Œé¢œè‰²è°ƒæ•´</p></blockquote>

<h3>æ³¨æ„äº‹é¡¹</h3>

<blockquote><p><code>UIImageView</code>éœ€è¦è®¾ç½®<code>renderingMode</code>ä¸º<code>UIImageRenderingModeAlwaysTemplate</code>æ‰èƒ½ç”Ÿæ•ˆã€‚
<code>renderingMode</code>æ˜¯ä¸€ä¸ªç±»å‹ä¸º<code>UIImageRenderingMode</code>çš„æšä¸¾
* UIImageRenderingModeAutomatic ï¼ˆé»˜è®¤æ¸²æŸ“æ¨¡å¼ï¼Œè‡ªåŠ¨æ¨¡å¼ï¼‰
* UIImageRenderingModeAlwaysOriginalï¼ˆæ€»æ˜¯ç»˜åˆ¶åŸæ¥çš„å›¾ç‰‡ï¼Œä¸æŠŠå®ƒå½“æˆä¸´æ—¶å›¾ç‰‡æ¥å¤„ç†ï¼‰
* UIImageRenderingModeAlwaysTemplate ï¼ˆæ€»æ˜¯ç»˜åˆ¶ä¸´æ—¶å›¾ç‰‡ï¼Œä¼šå¿½ç•¥å®ƒåŸæœ¬çš„é¢œè‰²ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯æ ¹æ®<code>tintColor</code>ç”Ÿäº§å›¾ç‰‡ï¼‰</p></blockquote>

<h3>UIImageViewçš„ä½¿ç”¨</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="bp">UIImage</span> <span class="o">*</span><span class="n">image</span> <span class="o">=</span> <span class="p">[</span><span class="bp">UIImage</span> <span class="nl">imageNamed</span><span class="p">:</span><span class="s">@&quot;xxx.png&quot;</span><span class="p">];</span>
</span><span class='line'><span class="n">image</span> <span class="o">=</span> <span class="p">[</span><span class="n">image</span> <span class="nl">imageWithRenderingMode</span><span class="p">:</span><span class="n">UIImageRenderingModeAlwaysTemplate</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<h3>- (void)tintColorDidChangeçš„ä½¿ç”¨</h3>

<p>åœ¨å­ç±»ä¸­é‡å†™<code>- (void)tintColorDidChange</code> æ–¹æ³•ï¼Œå°±å¯ä»¥å®ç°æ¯æ¬¡æ›´æ–°<code>tintColor</code>çš„æ—¶å€™è°ƒç”¨ç›¸å…³é…ç½®</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'> <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">tintColorDidChange</span>
</span><span class='line'> <span class="p">{</span>
</span><span class='line'>    <span class="n">_tintColorLabel</span><span class="p">.</span><span class="n">textColor</span> <span class="o">=</span> <span class="nb">self</span><span class="p">.</span><span class="n">tintColor</span><span class="p">;</span>
</span><span class='line'>    <span class="n">_tintColorBlock</span><span class="p">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="nb">self</span><span class="p">.</span><span class="n">tintColor</span><span class="p">;</span>
</span><span class='line'> <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>å‚è€ƒé“¾æ¥ <a href="https://www.shinobicontrols.com/blog/ios7-day-by-day-day-6-tint-color">Demo - iOS7 tintColor day by day</a></h3>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/01/12/macosx10-dot-11shang-yong-octopresshe-githubda-jian-ge-ren-bo-ke/">MacOSX10.11ä¸Šç”¨Octopresså’ŒGitHubæ­å»ºä¸ªäººåšå®¢</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-01-12T04:30:38+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>12</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>4:30 am</span></time>
        
           | <a href="/blog/2016/01/12/macosx10-dot-11shang-yong-octopresshe-githubda-jian-ge-ren-bo-ke/#disqus_thread"
             data-disqus-identifier="http://wangruofeng.github.io/blog/2016/01/12/macosx10-dot-11shang-yong-octopresshe-githubda-jian-ge-ren-bo-ke/">Comments</a>
        
	{ % if site.duoshuo_short_name and page.comments != false and post.comments != false and site.duoshuo_comments == true %}| <a href="{ % if index % }{ % endif %}#comments">Comments</a>
	{ % endif %}
      </p>
    
  </header>


  <div class="entry-content"><p>åºè¨€ç»è¿‡ä¸€æ™šä¸Šçš„æŠ˜è…¾ï¼Œç»ˆäºä»<code>Hexo</code>æˆåŠŸè½¬å…¥<code>Octopress</code>,é‚£ä¹ˆæœ¬æ–‡å°±æ¥ç»†è¯´ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ <code>Octopress</code>+<code>GitHub Pages</code>æ­å»ºä¸ªäººåšå®¢</p>

<h3>ä¸ºä»€ä¹ˆé€‰æ‹© Octopress &amp; Github Pages?</h3>

<ul>
<li>å…è´¹ä¸”ç‹¬ç«‹ã€‚æŠŠ Octopress åšå®¢ç³»ç»Ÿæ­å»ºåˆ° Github Pages è™½æ˜¯å…è´¹ï¼Œä½†ä¸å¤±ç‹¬ç«‹æ€§ï¼Œå³ä¾¿ Github å…¨ç«™å…³é—­ï¼Œä½ ä¹Ÿå°†æœ‰ä¸€ä»½æœ¬åœ°å…¨ç«™å¤‡ä»½ï¼Œéšæ—¶å¯ä»¥é‡æ–°æ¢å¤ã€‚ä¸å¿…å—æ‰˜ç®¡å•†ä¹‹æ°”ï¼Œè€Œä¸”è¿˜å…è´¹ï¼Œå¦‚æœä½ æ„¿æ„ï¼Œç”šè‡³å¯ä»¥è‡ªè¡Œæ’å…¥å¹¿å‘ŠæŒ£é’±ã€‚</li>
<li>ç‰ˆæœ¬æ§åˆ¶ã€‚å†™æ–‡ç« ï¼Œå»ºç½‘ç«™ï¼Œåšè½¯ä»¶éƒ½éœ€è¦ä¿®æ”¹ï¼Œä½†æœ‰æ—¶å€™æ”¹å®Œäº†åˆä¼šåæ‚”ï¼Œå¦‚æœæœ‰æ—¶å…‰æœºå°±å¥½äº†ï¼ŒGit å°±æ˜¯ä½ çš„æ—¶å…‰æœºã€‚å½“ç„¶å¦‚æœä½ ä¸æƒ³äº†è§£è¿™äº›çœ‹ä¸Šå»å¾ˆå”¬äººçš„ IT åè¯ï¼Œåªæ˜¯æƒ³å†™åšå®¢çš„è¯ï¼Œè¯·åœ¨éœ€è¦çš„æ—¶å€™å†ç ”ç©¶è¿™æ¡çš„å†…å®¹ã€‚</li>
<li>ç›¸å¯¹å…¶ä»–æ‰˜ç®¡åˆ° Github ä¸Šçš„åšå®¢ç¨‹åºï¼ŒOctopress æ›´åŠ æˆç†Ÿæ˜“ä¸Šæ‰‹ã€‚æ‰“ä¸ªæ¯”æ–¹ï¼Œ<a href="http://jekyllcn.com">Jekyll</a> å¯ä»¥è¯´æ˜¯æ¯›å¯æˆ¿ï¼Œ<a href="https://hexo.io">Hexo</a> å’Œ <a href="http://octopress.org">Octopress</a> ç®—æ˜¯ç®€è£…ä¿®ï¼Œä½†ç›¸æ¯” Hexoï¼ŒOctopress æœ‰æ›´å¤šè£…ä¿®èŒƒä¾‹å’Œæ›´å¤šç†Ÿç»ƒçš„è£…ä¿®å·¥äººï¼Œæ›´å®¹æ˜“è·å–å¸®åŠ©ã€‚å½“ç„¶å¦‚æœä½ åªæƒ³ä½ç²¾è£…ä¿®çš„æˆ¿å­ï¼Œé‚£ä¸å¾—ä¸èŠ±ç‚¹é’±ä¸Š <a href="https://www.google.com.hk/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=8&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwiOv6rSnqbKAhVGKJQKHefnDGAQFghGMAc&amp;url=https%3A%2F%2Fzh.wikipedia.org%2Fzh-cn%2FWordPress&amp;usg=AFQjCNGIb2sxhqKIuZ22-NHO6nclaYYOSQ&amp;sig2=GoW6MP3lSb9RasgVQGFxnw">WordPress</a> äº†</li>
<li>ä½¿ç”¨ Markdownã€‚<a href="https://zh.wikipedia.org/wiki/Markdown">Markdown</a> æ˜¯ç°åœ¨æœ€ä¸ºæµè¡Œçš„è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œä¹Ÿæ˜¯å·²æ•…çš„å¤©æ‰ Aaron Swartz ç•™ç»™ä¸–äººæœ€å¥½çš„ç¤¼ç‰©ï¼Œçªƒä»¥ä¸ºæ¯ä¸ªåœ¨äº’è”ç½‘ä¸Šå‘å¸ƒæ–‡ç« çš„äººéƒ½è¯¥æŒæ¡ã€‚</li>
<li>æŒ‰ç…§å®˜æ–¹çš„è¯´æ³•ï¼ŒOctopress æ˜¯ä¸ª<code>A blogging framework for hackers</code>(ã€Œä¸ºé»‘å®¢è®¾è®¡çš„åšå®¢æ¡†æ¶ã€)ï¼Œè¿™å¾ˆé…·ï¼Œä½ ä¸è§‰å¾—å—ï¼Ÿ</li>
</ul>


<p>å¦‚æœä½ ä¹‹å‰æ²¡æœ‰å†™è¿‡åšå®¢ï¼Œæ‰“ç®—å¼€å§‹æ­å»ºè‡ªå·±ç¬¬ä¸€ä¸ªåšå®¢çš„è¯ï¼Œå…¶å®ä¹Ÿä¸å¦¨è¯•è¯• Octopressï¼Œå…è´¹è¿˜èƒ½å­¦åˆ°ä¸œè¥¿ï¼Œä½•ä¹è€Œä¸ä¸ºï¼Ÿ</p>

<p>æœ¬æ–‡æ˜¯åœ¨<code>OS X EI Capitan</code>ç³»ç»Ÿä¸Šæ­å»ºä¸€ä¸ªåŸºäº<code>Octopress</code>çš„ä¸ªäººåšå®¢ç³»ç»Ÿï¼Œè®°å½•æ­å»ºè¿‡ç¨‹çš„å„ç§å‘ï¼Œå¸Œæœ›å¯¹æœ‰æƒ³æ­å»ºä¸ªäººåšå®¢çš„æœ‹å‹æœ‰æ‰€å¸®åŠ©ã€‚</p>

<p>æœ¬æ–‡æ˜¯å»ºç«‹åœ¨ä½ æœ‰ShellæŒ‡ä»¤åŸºç¡€å’ŒGitæ“ä½œåŸºç¡€ä¹‹ä¸Šï¼Œå¦‚æœä¸äº†è§£çš„è¯ï¼Œéœ€è¦æŸ¥é˜…ç›¸å…³èµ„æ–™ã€‚</p>

<p>å…ˆè§£é‡Šå‡ ä¸ªä¸“ä¸šæœ¯è¯­ï¼š</p>

<ul>
<li><a href="https://www.ruby-lang.org/zh_cn/">Ruby</a>

<ul>
<li>Ruby æ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€ã€‚Octopress æ˜¯ç”¨ Rubyè¯­è¨€ å®ç°çš„ã€‚æˆ‘ä»¬ä¸éœ€è¦å¯¹å®ƒæœ‰å¤ªå¤šäº†è§£ï¼Œåªéœ€è¦æ­£ç¡®å®‰è£… Ruby çš„ç¯å¢ƒï¼ˆRubyç‰ˆæœ¬å¿…é¡»ä¸ä½äº1.9.3-p0ï¼Œåé¢ä¼šè¯¦ç»†ä»‹ç»ï¼‰åŠæŒ‰æ­¥éª¤æ‰§è¡ŒæŒ‡ä»¤å³å¯ã€‚</li>
</ul>
</li>
<li><a href="https://rubygems.org/">RubyGems</a>

<ul>
<li>RubyGemsï¼ˆç®€ç§° gemsï¼‰æ˜¯ä¸€ä¸ªç”¨äºå¯¹ Rubyç»„ä»¶è¿›è¡Œæ‰“åŒ…çš„ Ruby æ‰“åŒ…ç³»ç»Ÿã€‚å®ƒå¯ä»¥ç”¨æ¥æŸ¥æ‰¾ã€å®‰è£…ã€å‡çº§å’Œå¸è½½è½¯ä»¶åŒ…ã€‚æˆ‘ä»¬ä¹Ÿæ˜¯é€šè¿‡å®ƒå®‰è£…OctopressåŒ…çš„</li>
</ul>
</li>
<li><a href="https://rvm.io/">RVM</a>

<ul>
<li>RVM  æ˜¯Ruby Version Managerçš„ç®€ç§°ï¼Œæ˜¯ä¸€æ¬¾ Ruby è¯­è¨€å®‰è£…ã€ç®¡ç†çš„å·¥å…·ã€‚æˆ‘ä»¬å¯¹ Ruby çš„æ“ä½œæ˜¯é€šè¿‡å®ƒçš„æŒ‡ä»¤å®Œæˆçš„ã€‚</li>
</ul>
</li>
<li><a href="http://jekyll.bootcss.com/">Jekyll</a>

<ul>
<li>Jekyll ä¸€ä¸ªç®€å•çš„åšå®¢å½¢æ€çš„é™æ€ç«™ç‚¹ç”Ÿäº§æœºå™¨ã€‚  Jekyll æœ‰ä¸€å¥—æ¨¡æ¿ç›®å½•ï¼Œå¯ä»¥å°† Markdownæ–‡ä»¶ï¼ˆæˆ–è€…Textileï¼‰è½¬æ¢ä¸ºé™æ€ç½‘é¡µï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªå®Œæ•´çš„å¯å‘å¸ƒçš„é™æ€ç½‘ç«™ã€‚</li>
<li>åŒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†äº§ç”Ÿçš„é™æ€ç½‘ç«™å¸ƒç½®åˆ° GitHub Pages ä¸Šï¼Œç”Ÿæˆä¸ªäººåšå®¢ç«™ç‚¹ã€‚</li>
<li>æƒ³äº†è§£æ›´å¤šå†…å®¹å¯ä»¥æŸ¥çœ‹<a href="http://jekyll.bootcss.com/docs/home/">ä¸­æ–‡æ–‡æ¡£</a>ã€‚</li>
</ul>
</li>
<li><a href="http://niumeng.me/blog/2015/08/26/create-your-website-1-init/www.github.com/imathis/octopress">Octopress</a>

<ul>
<li>Octopress æ˜¯åŸºäº Jekyll çš„åšå®¢æ¡†æ¶ã€‚ä»–ä»¬çš„å…³ç³»å°±åƒ jQuery ä¸ js çš„å…³ç³»ä¸€æ ·ã€‚</li>
<li>å®ƒä¸ºæˆ‘ä»¬æä¾›äº†ç°æˆçš„ç¾è§‚çš„ä¸»é¢˜æ¨¡æ¿ï¼Œå¹¶ä¸”é…ç½®ç®€å•ï¼Œä½¿ç”¨æ–¹ä¾¿ï¼Œå¤§å¤§é™ä½äº†æˆ‘ä»¬å»ºç«™çš„é—¨æ§›ã€‚</li>
</ul>
</li>
<li><a href="https://www.github.com/">GitHub</a>

<ul>
<li>GitHub æ˜¯å…¨çƒæœ€çƒ­çš„å¼€æºç¤¾åŒºï¼Œç¨‹åºç•Œçš„ Facebookã€‚å®ƒä¸ºæˆ‘ä»¬æä¾›ä»£ç æ‰˜ç®¡æœåŠ¡ï¼Œä»¥åŠæˆ‘ä»¬æ­å»ºåšå®¢æ‰€éœ€è¦çš„ Pages æœåŠ¡ã€‚</li>
</ul>
</li>
<li><a href="https://pages.github.com/">GitHub Pages</a>

<ul>
<li>GitHub Pages æ˜¯ GitHub æä¾›çš„ä¸€é¡¹æœåŠ¡ã€‚å®ƒç”¨äºæ˜¾ç¤ºæ‰˜ç®¡åœ¨ GitHub ä¸Šçš„é™æ€ç½‘é¡µã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨ Github Pages æ­å»ºåšå®¢ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠé¡¹ç›®çš„æ–‡æ¡£å’Œä¸»é¡µæ”¾åœ¨ä¸Šé¢ã€‚</li>
</ul>
</li>
</ul>


<p>é€šè¿‡ä»¥ä¸Šå†…å®¹ï¼Œæˆ‘ä»¬å¤§æ¦‚èƒ½å¤Ÿæ˜ç™½ Octopress å»ºç«™çš„åŸç†ï¼š
æˆ‘ä»¬ä½¿ç”¨åŸºäº Jekyll çš„ Octopress ç«™ç‚¹ç”Ÿæˆå·¥å…·ï¼Œç”Ÿæˆæœ¬åœ°çš„é™æ€ç½‘ç«™ã€‚ç„¶åå°†é™æ€ç½‘ç«™æ‰˜ç®¡åˆ° GitHub ä¸ºæˆ‘ä»¬æä¾›çš„ GitHub Pages æœåŠ¡ä¸Šã€‚è®¿é—® <strong>username</strong>.github.io å³å¯æ˜¾ç¤ºä½ çš„ä¸ªäººåšå®¢ç«™äº†</p>

<hr />

<p>æ˜ç™½äº†ä¸Šé¢è¿™äº›å†…å®¹ï¼Œä¸‹é¢è¿›è¡Œå…·ä½“çš„æ­å»ºå·¥ä½œï¼š</p>

<h3>ç¬¬ä¸€æ­¥ï¼šå®‰è£… Ruby</h3>

<p>Macè‡ªå¸¦Rubyç¯å¢ƒæ‰“å¼€ç»ˆç«¯ï¼Œå®‰è£… RVM ï¼Œç»ˆç«¯æ‰§è¡ŒæŒ‡ä»¤ï¼š</p>

<pre><code>$ curl -L https://get.rvm.io | bash -s stable --ruby
</code></pre>

<p>æ¥ä¸‹æ¥æˆ‘ä»¬è¦æŸ¥çœ‹è‡ªå·±çš„ Ruby ç¯å¢ƒ</p>

<pre><code>$ ruby -v
</code></pre>

<p>å¦‚æœä½ çš„ Ruby ç‰ˆæœ¬ä¸ä½äº 1.9.3-p0 å¯ä»¥å¿½ç•¥ Ruby çš„å®‰è£…ï¼ˆæˆ–å‡çº§ï¼‰ï¼Œç›´æ¥è·³åˆ°å®‰è£… RubyGems ã€‚ å¦åˆ™ï¼Œæˆ‘ä»¬æ‰§è¡Œä¹‹åçš„æ“ä½œï¼Œç»ˆç«¯æ‰§è¡ŒæŒ‡ä»¤ï¼š</p>

<pre><code>$ rvm install 1.9.3
$ rvm use 1.9.3
</code></pre>

<p>ç„¶åå®‰è£… RubyGemsï¼Œ ç»ˆç«¯æ‰§è¡ŒæŒ‡ä»¤ï¼š</p>

<pre><code>$ rvm rubygems latest
</code></pre>

<p>åˆ°è¿™é‡Œç¬¬ä¸€æ­¥å®Œæˆã€‚æˆ‘ä»¬å¯ä»¥å†æ‰§è¡Œä¸€æ¬¡ç¬¬ä¸€æ¡æŒ‡ä»¤ <code>ruby -v</code> æ¥æŸ¥çœ‹å½“å‰ Ruby çš„ç‰ˆæœ¬äº†ã€‚</p>

<h3>ç¬¬äºŒæ­¥ï¼šå®‰è£…Octopress</h3>

<p>å› ä¸ºMacç³»ç»Ÿè‡ªåŠ¨gitç¯å¢ƒï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦è€ƒè™‘gitçš„å®‰è£…ã€‚ç›´æ¥å°† Octopressçš„é¡¹ç›®cloneåˆ°æœ¬åœ°ï¼Œåœ¨ç»ˆç«¯æ‰§è¡ŒæŒ‡ä»¤ï¼š</p>

<pre><code>$ git clone git://github.com/imathis/octopress.git octopress
</code></pre>

<p>å®Œæˆåè¿›å…¥ octopress çš„ç›®å½•</p>

<pre><code>$ cd octopress
</code></pre>

<p>æ¥ä¸‹æ¥ï¼Œå®‰è£…ä¾èµ–ï¼š</p>

<pre><code>$ gem install bundler
# è¿™æ—¶ä½ å¯èƒ½ä¼šé‡åˆ°æ²¡æœ‰æƒé™çš„é—®é¢˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åŠ ä¸Šsudoé‡æ–°æ‰§è¡Œï¼Œå¹¶è¾“å…¥å¯†ç ã€‚
$ sudo gem install bundler
# æ¥ä¸‹æ¥æ‰§è¡Œï¼š
$ bundle install
</code></pre>

<p>è¿™æ—¶ä½ å¯èƒ½è¿˜ä¼šé‡åˆ°é—®é¢˜å¦‚ä¸‹ï¼š</p>

<pre><code>Fetching gem metadata from https://rubygems.org/...........
Resolving dependencies...

Gem::RemoteFetcher::FetchError: SocketError: getaddrinfo: Name or service not known (https://rubygems.org/gems/rake-10.4.2.gem)
An error occurred while installing rake (10.4.2), and Bundler cannot continue.
</code></pre>

<p>è¿™æ˜¯å› ä¸ºè¢«å¢™äº†ï¼Œè§£å†³åŠæ³•æœ‰ä¸¤ä¸ªï¼š ä¸€ä¸ªæ˜¯ï¼Œå¯ä»¥ä½¿ç”¨è‡ªå·±çš„ç¿»å¢™å·¥å…·ï¼› å¦ä¸€ä¸ªï¼Œæ·˜å®åšäº†ä¸€ä¸ªgemçš„é•œåƒã€‚æˆ‘ä»¬éœ€è¦åœ¨Octopressçš„æ–‡ä»¶ç›®å½•ä¸‹æ‰¾åˆ°Gemfileæ–‡ä»¶ï¼Œå°†å…¶ä¸­çš„<code>source 'https://rubygems.org/'</code>æ”¹ä¸º<code>source 'https://ruby.taobao.org/'</code></p>

<p>å†é‡æ–°è¿è¡Œ<code>bundle install</code>å°±å¯ä»¥äº†ã€‚ è¿™æ®µå†…å®¹å¯ä»¥å‚è€ƒ <a href="http://www.imooc.com/qadetail/59105">bundle install æç¤ºå¦‚ä¸‹ï¼Œæ˜¯éœ€è¦ç¿»å¢™è§£å†³ä¹ˆ</a>ã€‚</p>

<p>ä¸‹é¢å°±å¯ä»¥å®‰è£… Octopress çš„é»˜è®¤ä¸»é¢˜äº†ï¼Œç»ˆç«¯æ‰§è¡ŒæŒ‡ä»¤ï¼š</p>

<pre><code>rake install
</code></pre>

<p>è¿™æ ·ä¸€ä¸ªæœ€åŸºæœ¬çš„ä¸ªäººåšå®¢ç«™å°±äº§ç”Ÿäº†ã€‚</p>

<p><img src="http://ww3.sinaimg.cn/mw690/64124373gw1ezxvho05u3j20lx0ab764.jpg" alt="Octoress init" /></p>

<p>å¯ä»¥çœ‹å‡ºï¼Œç°åœ¨æ˜¾ç¤ºå¾—éƒ½æ˜¯é¢„è®¾å€¼ï¼Œå¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œæ‰€ä»¥éœ€è¦ä¿®æ”¹Octopressç›®å½•ä¸‹çš„_config.ymlæ–‡ä»¶ã€‚</p>

<p>æ–‡ä»¶ç›®å½•<code>_config.yml</code></p>

<p>æè¿°ï¼šä¿å­˜é…ç½®æ•°æ®ã€‚å¾ˆå¤šé…ç½®é€‰é¡¹éƒ½ä¼šç›´æ¥ä»å‘½ä»¤è¡Œä¸­è¿›è¡Œè®¾ç½®ï¼Œä½†æ˜¯å¦‚æœä½ æŠŠé‚£äº›é…ç½®å†™åœ¨è¿™å„¿ï¼Œä½ å°±ä¸ç”¨éè¦å»è®°ä½é‚£äº›å‘½ä»¤äº†ã€‚</p>

<p>_config.yml æ–‡ä»¶å…±åˆ†ä¸º3ä¸ªéƒ¨åˆ†å†…å®¹</p>

<ul>
<li>Main Configs</li>
<li>Jekyll &amp; Plugins</li>
<li>3rd Party Settings</li>
</ul>


<p>ç›®å‰ï¼Œæˆ‘ä»¬åªéœ€è¦å…³æ³¨ç¬¬ä¸€éƒ¨åˆ†Main Configsã€‚</p>

<pre><code># ----------------------- #
#      Main Configs       #
# ----------------------- #

#ç½‘ç«™åœ°å€
url: http://wangruofeng.github.io

#ç½‘ç«™æ ‡é¢˜
title: ç‹è‹¥é£çš„æŠ€æœ¯åšå®¢

#ç½‘ç«™å‰¯æ ‡é¢˜
subtitle: å¤©å¤©å‘ä¸Š.

#ç½‘å€ä½œè€…ï¼Œé€šå¸¸æ˜¾ç¤ºåœ¨é¡µå°¾å’Œæ¯ç¯‡æ–‡ç« çš„å°¾éƒ¨
author: Ace

#æœç´¢å¼•æ“
#simple_search: http://google.com/search

#ç½‘ç«™çš„æè¿°ï¼Œå‡ºç°åœ¨HTMLé¡µé¢ä¸­çš„ meta ä¸­çš„ description
#description:
</code></pre>

<p>å¯¹åº”å¡«å…¥ä½ çš„ä¸ªäººä¿¡æ¯ï¼Œå…¶ä¸­urlä¸ºå¿…å¡«çš„ï¼Œä¸€èˆ¬å¡«GitHubä»“åº“å¯¹åº”çš„è¿æ¥ï¼Œå…¶å†…å®¹å¤§è‡´å°±æ˜¯ <strong>username</strong>.github.io ï¼Œè¿™ä¸ªåœ°å€æˆ‘ä»¬ä¼šåœ¨åé¢æ­¥éª¤ä¸­è·å¾—ã€‚</p>

<h3>ç¬¬ä¸‰æ­¥ï¼šé›†æˆ GitHub Pages</h3>

<p>1.æ³¨å†Œ Github è´¦å·</p>

<p>è¿™ä¸ªæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œæ—©æ™šéœ€è¦ï¼Œå» <a href="http://github.com">http://github.com</a> æ³¨å†Œå§ã€‚</p>

<p>2.åœ¨ GitHub ä¸Šåˆ›å»ºä¸€ä¸ªä»£ç å‚è€ƒï¼Œé¡¹ç›®åç§°å‘½åè§„åˆ™ä¸º <strong>username</strong>.github.ioï¼Œusernameå¿…é¡»ä¸ç”¨æˆ·åç§°ä¸€è‡´ã€‚</p>

<ol>
<li>åŸŸåæŒ‡å‘ï¼ˆå¯é€‰ï¼‰
å¦‚æœä½ æœ‰è‡ªå·±çš„åŸŸåå¯ç”¨ï¼Œå¯ä»¥åœ¨è¿™æ—¶å°±é…ç½®å¥½ï¼Œæ¯•ç«Ÿè§£æèµ·æ¥éœ€è¦ä¸€æ®µæ—¶é—´ï¼Œä¸å¦‚åœ¨æˆ‘ä»¬æ­å»ºåšå®¢çš„æ—¶å€™è®©å®ƒå¼€å§‹ï¼Œè¿™æ ·æˆ‘ä»¬æ­å»ºå®Œæˆåï¼ŒåŸºæœ¬ä¸Šå°±å¯ä»¥ç›´æ¥ç”¨è‡ªæœ‰åŸŸåè®¿é—®äº†ã€‚</li>
</ol>


<p>æˆ‘çš„æ˜¯åœ¨<a href="http://wanwang.aliyun.com/domain/?utm_medium=text&amp;utm_source=baidu&amp;utm_campaign=st1&amp;utm_content=se_2485">ä¸‡ç½‘</a>ç”³è¯·çš„ï¼ŒåŸä»·ä¸€å¹´100å¤šç‚¹ç°åœ¨æœ‰æ´»åŠ¨ä¾¿å®œçš„å‡ å—çš„éƒ½æœ‰ï¼Œæƒ³è¦ä¸ªæ€§åŸŸåçš„å¯ä»¥å»æ³¨å†Œä¸€ä¸ªã€‚</p>

<ul>
<li><p>å¦‚æœä½ ç”¨çš„æ˜¯é¡¶çº§åŸŸåï¼Œæ¯”å¦‚ wangruofeng007.com, è¯·åˆ›å»ºä¸¤ä¸ª A è®°å½• (A Record) åˆ†åˆ«æŒ‡å‘ <code>192.30.252.153</code> å’Œ <code>192.30.252.154</code>.</p></li>
<li><p>å¦‚æœä½ ä½¿ç”¨äºŒçº§åŸŸåï¼Œæ¯”å¦‚ blog.wangruofeng007.com, è¯·å°†è¯¥åŸŸåçš„ CNAME æŒ‡å‘ [your_username].github.io, æŠŠå…¶ä¸­çš„ [your_username]æ¢æˆä½ è‡ªå·±åœ¨ Github ä¸Šçš„ç”¨æˆ·åã€‚</p></li>
<li><p>å¦‚æœä½ æš‚æ—¶æ²¡æœ‰åŸŸåï¼Œè¿™ä¸€æ­¥å¯ä»¥æš‚æ—¶ä¸ç”¨ç®¡</p></li>
</ul>


<p>Ps. åœ¨åˆ›å»ºè¿‡ç¨‹ä¸­æœ€å¥½ä¸è¦<code>æ·»åŠ å¿½ç•¥æ–‡ä»¶</code>å’Œ<code>README</code>æ–‡ä»¶ã€‚å› ä¸ºæˆ‘ä»¬è¦æŠŠæœ¬åœ°çš„ git ä»“åº“åŒæ­¥åˆ° GitHub è¿œç¨‹ä»“åº“ä¸­ã€‚å¦‚æœå†è¿œç¨‹ä»“åº“ä¸­æ·»åŠ äº†å…¶ä»–æ–‡ä»¶ï¼Œéœ€è¦æˆ‘ä»¬æ‰§è¡Œ pull æ“ä½œã€‚é™¤éä½ èƒ½éå¸¸ç†Ÿç»ƒçš„ä½¿ç”¨ git ï¼Œå¦åˆ™ä¸å»ºè®®ä½ åˆ¶é€ ä¸å¿…è¦çš„éº»çƒ¦ã€‚
æ¥ä¸‹æ¥å°†æœ¬åœ°ä»£ç ä»“åº“åŒæ­¥åˆ° GitHub ä¸Šï¼Œæ‰§è¡Œç»ˆç«¯æŒ‡ä»¤ï¼š</p>

<pre><code>$ rake setup_github_pages
</code></pre>

<p>å®ƒä¼šè¦æ±‚ä½ ç»‘å®šè¿œç¨‹ä»“åº“çš„åœ°å€ï¼Œæ­¤æ—¶åªéœ€è¦è¾“å…¥å³å¯ï¼š</p>

<pre><code>$ git@github.com:username/username.github.com.git
</code></pre>

<p>è¿™æ ·å°±ä¼šå°† Octopress ç”Ÿæˆçš„é™æ€ç«™ç‚¹ä¸ GitHub è¿›è¡Œç»‘å®šäº†ã€‚</p>

<p>ä¹‹åæˆ‘ä»¬åˆ›å»ºç¬¬ä¸€ç¯‡æ–‡ç« ï¼š</p>

<pre><code>rake new_post["title"]
</code></pre>

<p>ç„¶åä¼šæœ‰ä¸€ä¸ªåä¸º yyyy-mm-dd-Post-Title.markdown çš„æ–‡ä»¶åœ¨ octopress/source/_posts ç›®å½•ä¸‹ç”Ÿæˆï¼Œå…¶ä¸­ yyyy-mm-dd æ˜¯ä½ å½“æ—¶çš„æ—¥æœŸã€‚ç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>

<pre><code>cd source/_posts/
vim yyyy-mm-dd-Post-Title.markdown
</code></pre>

<p>å³å¯ç”¨ vim ç¼–è¾‘å™¨ç¼–è¾‘çš„åˆšæ‰çš„æ–‡ç« äº†ï¼Œå¥½å§æˆ‘çŸ¥é“ä½ ä½œä¸ºè¿™ç¯‡æ–‡ç« çš„è¯»è€…å¹¶ä¸æ˜¯ä¸€ä¸ªèƒ½ç†Ÿç»ƒä½¿ç”¨ vim çš„äººï¼Œé‚£ä¹ˆè¯·åœ¨å‘½ä»¤è¡Œè¾“å…¥ qï¼é€€å‡ºè¿™ä¸ªç¼–è¾‘å™¨ã€‚å¦‚æœä½ ä¸æƒ³å‡è£…æ˜¯ä¸ªé»‘å®¢çš„è¯ï¼Œå…¶å®å‘å¸ƒæ–‡ç« å¹¶ä¸éœ€è¦è¿™ä¹ˆéº»çƒ¦ã€‚</p>

<p>æˆ‘ä»¬ç›´æ¥æ‰“å¼€ <code>octopress/source/_posts</code> æ–‡ä»¶å¤¹ï¼Œæ‰¾åˆ°åˆšæ‰ç”Ÿæˆçš„æ–‡ä»¶ï¼Œç”¨ä½ å–œæ¬¢çš„ Markdown ç¼–è¾‘å™¨ï¼ˆå…è´¹çš„æˆ‘æ¨è <a href="http://mouapp.com/">Mou</a>æˆ–è€…<a href="https://atom.io">Atom</a>ï¼‰æˆ–è€…æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ï¼Œå¯¹æ–‡ç« å†…å®¹è¿›è¡Œç¼–è¾‘ã€‚</p>

<p>æ‰“å¼€æ–‡ä»¶åï¼Œä½ ä¼šå‘ç°æ–‡ç« å¼€å¤´æœ‰è¿™ä¹ˆä¸€æ®µä¿¡æ¯:
    &mdash;<br/>
    layout: post<br/>
    title: &ldquo;Post Title&rdquo;<br/>
    date: yyyy-mm-dd hh:mm:ss<br/>
    comments: true<br/>
    categories:  &ldquo;&rdquo;
    &mdash;</p>

<p>è¿™å…¶å®æ˜¯è¿™ç¯‡æ–‡ç« çš„å…ƒæ•°æ®ï¼šlayout æš‚æ—¶ä¸è¦ç†ä¼šï¼›title æ˜¯è¿™ç¯‡æ–‡ç« æ˜¾ç¤ºåœ¨æœ€ç»ˆç½‘é¡µä¸Šçš„æ ‡é¢˜ï¼›date éƒ¨åˆ†æ˜¯è¯¦ç»†çš„æ–‡ä»¶ç”Ÿæˆæ—¶é—´ï¼Œå¦‚ 2014-01-28 03:35:00ï¼›comment éƒ¨åˆ†è¡¨ç¤ºæ˜¯å¦å…è®¸è¯„è®ºï¼Œç›®å‰æ˜¾ç¤ºæ˜¯å…è®¸ï¼Œå¦‚æœæƒ³å…³é—­è¯„è®ºï¼Œè¯·æ”¹ä¸º falseï¼›categories æŒ‡è¿™ç¯‡æ–‡ç« çš„åˆ†ç±»ç›®å½•ï¼Œè¯·åœ¨åé¢å¼•å·ä¸­è¾“å…¥,ä¸ç”¨å¼•å·ä¹Ÿå¯ä»¥ï¼Œå¤šä¸ªåˆ†ç±»ç”¨<code>ç©ºæ ¼</code>éš”å¼€ï¼Œå¦‚æœæ²¡æœ‰è¯¥ç›®å½•ï¼Œåˆ™ä¼šè‡ªåŠ¨ç”Ÿæˆã€‚è¯·ä¸è¦åˆ é™¤è¿™æ®µä¿¡æ¯ï¼Œåœ¨è¿™æ®µä¿¡æ¯ä¸‹é¢å¼€å§‹ä½ çš„æ–‡ç« å†…å®¹</p>

<p>è¿™ä»¶äº‹æƒ…ç»™æˆ‘ä»¬çš„å¯å‘æ˜¯ï¼Œä»¥åå‘å¸ƒæ–‡ç« ï¼Œå…¶å®å¹¶ä¸éœ€è¦ä½¿ç”¨ç»ˆç«¯å‘½ä»¤è¡Œç”Ÿæˆæ–‡ä»¶ã€‚å¯ä»¥ç›´æ¥å°†è‡ªå·±å†™å¥½çš„æ–‡ç« æ”¾åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢ï¼Œå½“ç„¶è¯·æŒ‰ç…§ <code>yyyy-mm-dd-Post-Title.markdown</code> è¿™æ ·çš„æ–‡ä»¶æ ¼å¼å‘½åï¼ŒåŒæ—¶è®°å¾—åœ¨æ–‡ç« å‰é¢æ·»åŠ å…ƒæ•°æ®ä¿¡æ¯ã€‚è¿™ç§åšæ³•ç”Ÿæˆçš„æ–‡ç« ä¸ä¸Šé¢çš„æ–¹æ³•æ— å¼‚</p>

<p>ç”Ÿæˆçš„æ–°æ–‡ç« åœ¨source/_post/ç›®å½•ä¸‹ï¼Œæ–‡ä»¶åæ„æˆä¸ºæ—¶é—´å’Œæ ‡é¢˜çš„æ‹¼éŸ³ã€‚æˆ‘ä»¬å¯ä»¥ç”¨Markdownç¼–è¾‘å™¨å¯¹æ–‡ç« è¿›è¡Œä¿®æ”¹ã€‚
ä¹‹åç”Ÿæˆé™æ€ç«™ç‚¹ï¼Œç»ˆç«¯æ‰§è¡ŒæŒ‡ä»¤ï¼š</p>

<pre><code># ç”Ÿæˆé™æ€ç«™ç‚¹
$ rake generate
</code></pre>

<p>å¦‚æœä½ æƒ³é¢„è§ˆæœ¬åœ°çš„ç«™ç‚¹ï¼Œå¯ä»¥æ‰§è¡Œç»ˆç«¯æŒ‡ä»¤ï¼š</p>

<pre><code># é¢„è§ˆé™æ€ç«™ç‚¹
$ rake preview
</code></pre>

<p>æ­¤æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€<code>localhost:4000</code> æŸ¥çœ‹æ•ˆæœã€‚å¦‚æœæ²¡æœ‰é—®é¢˜å¯ä»¥å°†é™æ€ç«™ç‚¹åŒæ­¥åˆ° GitHub è¿œç¨‹ä»“åº“ä¸­ï¼Œç»ˆç«¯æ‰§è¡ŒæŒ‡ä»¤ï¼š</p>

<pre><code># åŒæ­¥å†…å®¹
$ rake deploy
</code></pre>

<p>ä½ ä¼šå‘ç°æˆ‘ä»¬çš„é™æ€ç«™ç‚¹å·²ç»è¢« push åˆ° GitHubä»“åº“çš„ master åˆ†æ”¯ä¸Šã€‚ç¨ç­‰å‡ åˆ†é’Ÿï¼Œè®¿é—® <code>username.github.io</code> (æˆ–è€… <code>username.github.com</code>)ï¼Œå°±ä¼šå‘ç°ä½ çš„ä¸ªäººåšå®¢ç«™å·²åˆ›å»ºæˆåŠŸäº†ã€‚
å¦‚æœä½ è¿˜æƒ³ç»™è‡ªå·±çš„æœ¬åœ°èµ„æºæ–‡ä»¶ï¼ˆå¦‚Markdownæ–‡ä»¶ç­‰å†…å®¹ï¼‰ä¹ŸåŒæ­¥åˆ° GitHub ä¸­ï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š</p>

<pre><code>$ git add .
$ git commit -m "comment"
$ git push origin source
</code></pre>

<p>è¿™æ ·æˆ‘ä»¬çš„èµ„æºæ–‡ä»¶å°±ä¼šåŒæ­¥åˆ° GitHub çš„ source åˆ†æ”¯äº†ã€‚</p>

<h3>ä½¿ç”¨è‡ªå·±çš„åŸŸåï¼ˆå¯é€‰ï¼‰</h3>

<p>å¦‚æœä½ æœ‰è‡ªå·±çš„åŸŸåï¼Œå¹¶ä¸”æƒ³æŒ‡å‘è¿™ä¸ªæ–°åšå®¢çš„è¯ï¼Œè¯·é¦–å…ˆç¡®ä¿æ‰§è¡Œäº†ç¬¬ä¸‰æ­¥çš„<code>åŸŸåæŒ‡å‘ï¼ˆå¯é€‰ï¼‰</code>çš„å†…å®¹ã€‚å¦‚æœæ²¡æœ‰æ‰§è¡Œï¼Œå¯ä»¥éšæ—¶æ‰§è¡Œã€‚
ç„¶åæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œæ³¨æ„æŠŠ your-domain.com æ¢æˆä½ è‡ªå·±çš„åŸŸåã€‚</p>

<pre><code>echo 'your-domain.com' &gt;&gt; source/CNAME
</code></pre>

<p>è¿™å¥è¯çš„æ„æ€æ˜¯åœ¨<code>source</code>åˆ†æ”¯ä¸‹åˆ›å»ºä¸€ä¸ªCNAMEçš„æ–‡ä»¶å¹¶ä¸”å°†<code>your-domain.com</code>å†™å…¥æ–‡ä»¶</p>

<p>ç„¶åå†æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>

<pre><code>rake generate
rake deploy
</code></pre>

<p>æˆ–è€…äºŒåˆä¸€</p>

<pre><code>rake gen_deploy
</code></pre>

<p>è¿™æ ·ä½ å°±å¯ä»¥ä½¿ç”¨è‡ªå·±çš„åŸŸåäº†ã€‚åŸŸåè§£æéœ€è¦ä¸€æ®µæ—¶é—´ï¼Œå¦‚æœæ²¡æœ‰é©¬ä¸Šç”Ÿæ•ˆï¼Œè¯·ä¸è¦ç€æ€¥ã€‚å¦‚æœé•¿æ—¶é—´æ²¡æœ‰ç”Ÿæ•ˆï¼Œè¯·ç¡®ä¿å®Œæ•´æ‰§è¡Œäº† <code>åŸŸåæŒ‡å‘ï¼ˆå¯é€‰ï¼‰</code>å’Œ<code>ä½¿ç”¨è‡ªå·±çš„åŸŸåï¼ˆå¯é€‰ï¼‰</code>çš„å†…å®¹ã€‚</p>

<p>ç°åœ¨æˆ‘ä»¬å®Œæˆäº†ä¸ªäººåšå®¢çš„åˆçº§æ­å»ºï¼Œè¶³å¤Ÿæ»¡è¶³æˆ‘ä»¬çš„åŸºæœ¬éœ€æ±‚ã€‚</p>

<p>å‚è€ƒèµ„æ–™ï¼š
* å”å·§çš„åšå®¢: [è±¡å†™ç¨‹åºä¸€æ ·å†™åšå®¢ï¼šæ­å»ºåŸºäºgithubçš„åšå®¢]ï¼ˆ<a href="http://blog.devtang.com/blog/2012/02/10/setup-blog-based-on-github/%EF%BC%89">http://blog.devtang.com/blog/2012/02/10/setup-blog-based-on-github/%EF%BC%89</a>
* è§…ç äºº: <a href="http://tchen.me/posts/2012-12-16-first-blog.html">ç¬¬ä¸€ç¯‡åšæ–‡ï¼šç”¨Octopressæ­å»ºåšå®¢ç³»ç»Ÿ</a>
* ç ´èˆ¹ä¹‹å®¶: <a href="http://beyondvincent.com/blog/2013/07/27/107-hello-page-of-github/">ä½ å¥½ï¼githubé¡µé¢</a>
* opoo.org: <a href="http://opoo.org/octopress/">Octopress åšå®¢ç³»ç»Ÿ â€”â€” a Blogging Framework for Hackers</a>
* Ocotpress: <a href="http://octopress.org/docs/">Octopress Documentation</a>
* Haveeâ€™s Space: <a href="http://havee.me/internet/2013-02/add-duoshuo-commemt-system-into-octopress.html">ä¸º Octopress æ·»åŠ å¤šè¯´è¯„è®ºç³»ç»Ÿ</a>
* colors4.us: <a href="http://colors4.us/blog/2012/01/08/octopressbo-ke-cong-ling-kai-shi-iii/">Octopressåšå®¢ä»é›¶å¼€å§‹ III</a>
* æµ®ç”ŸçŒè¶£:<a href="http://blog.lessfun.com/blog/2013/11/27/create-blog-in-github-page-using-octopress-and-binding-domain/">ç”¨Octopressåœ¨Githubæ­å»ºåšå®¢ï¼Œå¹¶ç»‘å®šç‹¬ç«‹åŸŸå</a>
* Aster0idçš„ä¸ªäººåšå®¢:<a href="http://niumeng.me/blog/2015/08/26/create-your-website-1-init/">åˆ¶ä½œä¸ªäººåšå®¢ç«™ï¼ˆä¸€ï¼‰ï¼šMacç³»ç»Ÿä¸‹ä½¿ç”¨ Octopress + GitHub Pages æ­å»ºä¸ªäººåšå®¢</a></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/index.html">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/01/13/cocoapodsshi-yong-zhi-nan/">CocoaPodsä½¿ç”¨æŒ‡å—</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/13/get-and-post/">GET&amp;POST</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/13/http-post-and-multipart-forms/">Http Post and Multipart Forms</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/13/gong-han-mo-shi-xiang-jie/">å·¥å‚æ¨¡å¼è¯¦è§£</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/13/duo-xian-cheng-zhi-nsthread/">å¤šçº¿ç¨‹ä¹‹NSThread</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/wangruofeng">@wangruofeng</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'wangruofeng',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>




<section>
  <h1>About Me</h1>
  <p>æœç²‰ï¼Œä¸“æ³¨äºç§»åŠ¨äº’è”ç½‘ï¼Œè‡´åŠ›æ‰“é€ é«˜é€¼æ ¼é«˜ä»·å€¼App!</p>
</section>
<section>
<h1>æœ€è¿‘è¯„è®º</h1>
<ul class="ds-recent-comments" data-num-items="10" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="20">
</ul>
<!-- å¤šè¯´JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"wangruofeng"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Ace -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'wangruofeng';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
